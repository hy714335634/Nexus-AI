{
  "agent_design": {
    "design_overview": {
      "project_name": "company_info_search_agent",
      "version": "1.0",
      "date": "2025-09-30",
      "design_scope": "设计一个能够读取Excel表格中的公司信息，通过多种搜索引擎查询公司详细信息，并将结果输出为Excel表格的智能体系统",
      "design_goals": [
        "创建一个能够处理Excel输入文件的智能体",
        "集成多种搜索引擎进行公司信息查询",
        "实现深度网页内容检索获取详细公司信息",
        "设计缓存机制支持任务断点续传",
        "实现分批处理和输出管理，避免token限制",
        "确保系统可靠性和容错性"
      ],
      "key_design_decisions": [
        {
          "decision": "采用单Agent架构",
          "rationale": "处理流程相对线性，不需要多Agent协作，简化系统复杂度",
          "alternatives": ["多Agent协作架构"],
          "consequences": ["简化系统设计", "减少通信开销", "便于维护和扩展"]
        },
        {
          "decision": "基于deep_research_agent模板实现",
          "rationale": "该模板专为深度研究设计，包含真实网络搜索、信息收集、数据分析等功能，非常适合查询公司信息",
          "alternatives": ["data_analyzer_agent", "api_integration_agent"],
          "consequences": ["强大的信息收集能力", "真实网络搜索", "多源数据整合", "需要增强Excel处理能力"]
        },
        {
          "decision": "集成多种搜索工具和方法",
          "rationale": "不同搜索引擎有各自优势和限制，多引擎集成可提高查询成功率和信息全面性",
          "alternatives": ["单一搜索引擎"],
          "consequences": ["提高查询可靠性", "获取更全面的信息", "增加系统复杂度"]
        },
        {
          "decision": "实现文件缓存机制",
          "rationale": "支持处理大量公司信息和任务断点续传，提高系统可靠性",
          "alternatives": ["内存缓存", "数据库缓存"],
          "consequences": ["支持断点续传", "提高系统可靠性", "增加存储需求"]
        },
        {
          "decision": "采用分批处理策略",
          "rationale": "避免token限制和内存问题，支持处理大量公司信息",
          "alternatives": ["单次处理全部数据"],
          "consequences": ["避免token限制", "减少内存占用", "增加处理时间"]
        }
      ]
    },
    "agents": [
      {
        "agent_id": "company_info_search_agent",
        "name": "company_info_search_agent",
        "role": "公司信息搜索与分析专家",
        "purpose": "读取Excel表格中的公司信息，通过多种搜索引擎查询公司详细信息，并将结果输出为Excel表格",
        "personality": {
          "traits": ["专注", "细致", "高效", "适应性强", "客观"],
          "communication_style": "清晰、专业、直接",
          "tone": "专业、友好、信息导向"
        },
        "capabilities": {
          "core_functions": [
            "Excel文件读取与解析",
            "多搜索引擎集成与查询",
            "深度网页内容检索",
            "公司信息提取与汇总",
            "缓存机制与任务进度跟踪",
            "分批处理与Excel输出"
          ],
          "specialized_skills": [
            "多搜索引擎协调与切换",
            "公司信息结构化提取",
            "中英文公司信息处理",
            "大规模数据处理与优化",
            "网页内容深度解析"
          ],
          "limitations": [
            "依赖外部搜索引擎API",
            "受API使用限制和速率限制",
            "可能受网站反爬虫措施限制",
            "无法获取非公开信息",
            "不进行实时数据更新"
          ],
          "tools_required": [
            "http_request",
            "file_read",
            "file_write",
            "python_repl",
            "web_search_enhanced",
            "information_collector",
            "data_analyzer",
            "json_converter",
            "text_analyzer",
            "content_extractor"
          ]
        },
        "knowledge_domain": {
          "primary_domains": [
            "公司信息研究",
            "互联网搜索技术",
            "数据提取与分析",
            "Excel文件处理"
          ],
          "expertise_level": "专家级",
          "knowledge_sources": [
            "搜索引擎结果",
            "公司官网",
            "新闻媒体",
            "行业报告",
            "公开财务数据"
          ],
          "update_frequency": "按需更新，基于最新搜索结果"
        },
        "interaction_patterns": {
          "communication_style": "以任务为导向，提供清晰的进度和结果反馈",
          "conversation_flow": "引导式对话，帮助用户提供必要参数并展示处理进度",
          "error_responses": [
            "搜索引擎错误处理：自动切换到备用搜索引擎",
            "网络连接错误：实现重试机制，提供明确错误信息",
            "文件格式错误：提供具体错误位置和修复建议",
            "API限制错误：提供速率限制信息和恢复建议"
          ]
        },
        "constraints": [
          "只能获取公开可访问的信息",
          "遵循搜索引擎使用政策和速率限制",
          "处理大量数据时受token限制",
          "深度检索受网站反爬虫措施限制"
        ],
        "evaluation_criteria": [
          "信息准确性：获取的公司信息是否准确",
          "信息全面性：是否获取了所需的全部信息字段",
          "处理效率：处理速度和资源利用效率",
          "容错能力：在API失败或网络错误时的恢复能力",
          "输出质量：生成的Excel表格是否格式规范、内容完整"
        ],
        "model_requirements": {
          "model_name": "Claude Opus",
          "minimum_capabilities": [
            "强大的文本理解和提取能力",
            "长上下文处理能力",
            "结构化数据处理能力",
            "多语言处理能力（支持中英文）"
          ],
          "rationale": "选择Claude Opus是因为它具有强大的文本理解和提取能力，能够处理长上下文，支持结构化数据处理，并且具有良好的多语言处理能力，特别适合处理中英文公司信息"
        },
        "memory_configuration": {
          "memory_type": "文件缓存系统",
          "retention_policy": "任务级持久化，保存处理结果和进度",
          "retrieval_strategy": "基于任务ID检索历史处理结果和进度"
        }
      }
    ],
    "agent_relationships": [],
    "system_integration": {
      "entry_point": "用户提供Excel文件路径和配置参数",
      "exit_points": [
        "输出中间CSV文件",
        "输出最终Excel文件",
        "输出任务进度报告",
        "输出错误日志"
      ],
      "external_interfaces": [
        "SerpAPI (Google, Bing, Baidu, DuckDuckGo)",
        "HTTP请求客户端",
        "文件系统"
      ]
    }
  }
}