# 项目上下文信息

**项目名称**: aws_pricing_assistant
**Agent名称**: aws_pricing_agent  
**开发阶段**: prompt_engineer
**生成时间**: 2025-09-11 06:36:51 UTC

---

{
  "prompt_design": {
    "design_overview": {
      "project_name": "aws_pricing_assistant",
      "version": "1.0",
      "date": "2025-09-11",
      "design_scope": "设计AWS产品报价智能体的提示词模板，使其能够分析用户需求，推荐合理的AWS配置方案，提供准确的价格信息，并生成专业的销售报价方案。",
      "design_principles": [
        "角色一致性：提示词与智能体设计规格完全匹配",
        "清晰性：指令明确、具体、易于理解",
        "结构化：遵循标准化的提示词模板格式",
        "可维护性：支持版本管理和迭代优化",
        "可测试性：包含明确的输入输出规范"
      ],
      "key_decisions": [
        "基于API集成专家模板进行定制化开发",
        "添加AWS产品知识和价格计算逻辑",
        "实现配置推荐指南，能够从不完整需求中推测合理配置",
        "设计专业的销售报价方案输出格式",
        "添加竞品迁移评估流程",
        "整合所有AWS产品报价工具"
      ]
    },
    "prompt_template": {
      "name": "aws_pricing_agent",
      "description": "AWS产品报价专家，分析用户需求，推荐AWS配置方案，提供准确价格信息，生成专业销售报价方案",
      "category": "aws_pricing",
      "base_template": "api_integration_agent",
      "customizations": [
        "添加AWS产品知识和服务类型",
        "增加配置推荐指南",
        "添加不完整需求处理流程",
        "添加竞品迁移评估流程",
        "定制化中文报价输出格式"
      ]
    },
    "system_prompt_sections": [
      {
        "section": "角色与职责",
        "content": "定义智能体作为AWS产品报价专家的身份和核心职责，包括解析需求、推荐配置、获取价格、生成报价等",
        "rationale": "明确智能体的专业身份和领域专长，建立专业权威形象"
      },
      {
        "section": "专业知识领域",
        "content": "详细列出智能体精通的AWS产品和服务，包括EC2、EBS、S3、RDS、ElastiCache、OpenSearch、负载均衡器、网络流量等",
        "rationale": "展示智能体的知识广度和深度，增强用户信任"
      },
      {
        "section": "工作流程",
        "content": "定义四步工作流程：需求分析、配置推荐、价格查询、报价生成，每步包含详细的执行指导",
        "rationale": "提供清晰的步骤化执行流程，确保输出的一致性和完整性"
      },
      {
        "section": "配置推荐指南",
        "content": "为各种AWS产品提供详细的配置推荐指南，包括EC2实例、EBS存储、S3存储、RDS数据库、ElastiCache、OpenSearch、负载均衡器等",
        "rationale": "确保配置推荐符合AWS最佳实践和用户需求"
      },
      {
        "section": "处理不完整需求",
        "content": "提供处理不完整或模糊需求的指导，包括合理推测、标注推测内容、提供备选方案等",
        "rationale": "增强智能体处理不确定性的能力，提高用户体验"
      },
      {
        "section": "竞品迁移评估",
        "content": "定义解析其他云平台账单或IDC配置清单的流程，包括配置映射、优化方案、迁移报价等",
        "rationale": "支持用户从其他云平台迁移到AWS的需求"
      },
      {
        "section": "错误处理",
        "content": "提供处理各种错误情况的指导，包括API不可用、价格获取失败、无效输入等",
        "rationale": "确保系统在异常情况下仍能提供有用的信息和建议"
      },
      {
        "section": "输出格式",
        "content": "定义结构化的中文报价方案输出格式，包括需求概述、推荐配置、价格明细、总价、优化建议等",
        "rationale": "确保输出的专业性、清晰度和一致性"
      },
      {
        "section": "注意事项",
        "content": "强调输出使用中文、价格计算准确、避免推荐t系列实例等重要注意事项",
        "rationale": "避免常见错误，确保输出符合项目要求"
      }
    ],
    "tools_dependencies": [
      {
        "tool": "strands_tools/current_time",
        "purpose": "获取当前时间，用于生成报价方案的时间戳"
      },
      {
        "tool": "strands_tools/calculator",
        "purpose": "执行价格计算和数学运算"
      },
      {
        "tool": "template_tools/network/http_client/api_client",
        "purpose": "调用AWS API获取价格数据"
      },
      {
        "tool": "template_tools/network/http_client/auth_manager",
        "purpose": "管理AWS API认证信息"
      },
      {
        "tool": "template_tools/common/data_converter/json_converter",
        "purpose": "处理API返回的JSON数据"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/calculate_aws_cost",
        "purpose": "计算一组AWS资源的总成本"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_ebs_pricing",
        "purpose": "获取EBS卷价格信息"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_ec2_instance_types",
        "purpose": "获取EC2实例类型列表"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_ec2_pricing",
        "purpose": "获取EC2实例价格信息"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_elasticache_pricing",
        "purpose": "获取ElastiCache节点价格信息"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_loadbalancer_pricing",
        "purpose": "获取负载均衡器价格信息"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_network_pricing",
        "purpose": "获取网络流量价格信息"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_opensearch_pricing",
        "purpose": "获取OpenSearch服务价格信息"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_rds_pricing",
        "purpose": "获取RDS数据库价格信息"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_pricing_api/get_s3_pricing",
        "purpose": "获取S3存储价格信息"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_recommendation/generate_aws_solution",
        "purpose": "根据用户需求生成完整的AWS解决方案"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_recommendation/recommend_ebs_volume",
        "purpose": "推荐合适的EBS卷类型"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_recommendation/recommend_ec2_instance",
        "purpose": "推荐合适的EC2实例类型"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_recommendation/recommend_elasticache_node",
        "purpose": "推荐合适的ElastiCache节点类型"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_recommendation/recommend_loadbalancer",
        "purpose": "推荐合适的负载均衡器类型"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_recommendation/recommend_opensearch_domain",
        "purpose": "推荐合适的OpenSearch域配置"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_recommendation/recommend_rds_instance",
        "purpose": "推荐合适的RDS实例类型"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_recommendation/recommend_s3_storage",
        "purpose": "推荐合适的S3存储类别"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_sales_proposal/generate_comparative_proposal",
        "purpose": "生成对比竞争对手产品的AWS销售报价方案"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_sales_proposal/generate_migration_proposal",
        "purpose": "根据当前环境和目标需求生成AWS迁移方案"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_sales_proposal/generate_sales_proposal",
        "purpose": "根据客户需求生成专业的AWS销售报价方案"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_utils/get_aws_regions",
        "purpose": "获取所有AWS区域及其显示名称"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_utils/parse_requirements",
        "purpose": "将自然语言需求解析为结构化的AWS资源需求"
      },
      {
        "tool": "generated_tools/aws_pricing_assistant/aws_utils/validate_aws_region",
        "purpose": "验证AWS区域代码是否有效"
      }
    ],
    "prompt_testing": {
      "test_scenarios": [
        {
          "scenario": "完整需求分析",
          "input": "我需要4核8GB内存的EC2实例，100GB的gp3存储，在北京区域运行Linux系统",
          "expected_output": "包含EC2 m5.large实例和100GB gp3存储的详细配置和价格报价"
        },
        {
          "scenario": "不完整需求处理",
          "input": "我需要一个Web服务器和数据库",
          "expected_output": "基于常见Web架构推荐的EC2实例、EBS存储、RDS数据库等配置，并明确标注推测部分"
        },
        {
          "scenario": "竞品迁移评估",
          "input": "我们目前在阿里云使用4核8GB的ECS实例和100GB SSD云盘，想迁移到AWS",
          "expected_output": "包含等效AWS配置、价格对比和迁移建议的详细报价方案"
        },
        {
          "scenario": "复杂架构推荐",
          "input": "我们需要部署一个高可用的电商网站，包含Web层、应用层、数据库层和缓存层",
          "expected_output": "包含多层架构的完整AWS解决方案，包括EC2、ELB、RDS、ElastiCache等资源的配置和价格"
        },
        {
          "scenario": "错误处理测试",
          "input": "我需要在火星区域部署一个量子计算实例",
          "expected_output": "友好的错误提示，说明火星不是有效的AWS区域，并推荐可用的区域"
        }
      ],
      "quality_metrics": [
        "配置推荐的准确性和合理性",
        "价格计算的准确性",
        "报价方案的专业性和清晰度",
        "对不完整需求的处理能力",
        "响应速度（10秒内完成价格查询和报价生成）"
      ]
    }
  },
  "design_rationale": "本提示词设计基于API集成专家模板进行定制化开发，专门为AWS产品报价智能体设计。我们添加了丰富的AWS产品知识和价格计算逻辑，实现了详细的配置推荐指南，能够从不完整需求中推测合理配置。提示词结构清晰，分为角色与职责、专业知识领域、工作流程、配置推荐指南、处理不完整需求、竞品迁移评估、错误处理、输出格式和注意事项等部分，确保智能体能够全面理解其任务和执行标准。特别强调了生产环境避免推荐t系列实例、所有输出使用中文、价格计算准确等关键要求。工具依赖方面，我们整合了所有AWS产品报价工具，包括价格查询、配置推荐和销售报价生成等功能，确保智能体能够完成其核心任务。通过多种测试场景验证提示词的有效性，包括完整需求分析、不完整需求处理、竞品迁移评估、复杂架构推荐和错误处理等，确保提示词能够应对各种实际使用场景。"
}