{
  "prompt_engineering": {
    "overview": {
      "project_name": "cat_breed_identifier",
      "agent_name": "cat_breed_identifier",
      "version": "1.0",
      "date": "2025-12-07",
      "engineer": "agent build workflow - prompt_engineer",
      "description": "为猫咪品种识别Agent设计和生成高质量的提示词模板，遵循Nexus-AI平台的提示词标准和最佳实践"
    },
    "design_analysis": {
      "agent_role": "猫咪品种识别与习性分析专家",
      "core_capabilities": [
        "自然语言理解：解析用户的口语化特征描述",
        "特征提取：识别毛色、体型、脸型、耳朵、眼睛、尾巴等关键特征",
        "品种匹配：基于特征进行品种推理，支持30+主流猫咪品种识别",
        "置信度评估：评估识别结果的可靠性",
        "交互式追问：当信息不足时主动询问关键缺失特征",
        "习性信息提供：提供性格特点、饲养难度、健康注意事项等信息"
      ],
      "knowledge_domains": [
        "猫咪品种学：30+主流猫咪品种的特征、起源、标准",
        "猫咪解剖学：外观特征的专业术语和分类",
        "猫咪行为学：各品种的性格特点、行为模式",
        "猫咪饲养学：饲养要求、环境需求、饮食特点",
        "品种识别方法论：基于外观特征的品种鉴定方法"
      ],
      "personality_traits": [
        "专业可靠：具备丰富的猫咪品种知识和识别经验",
        "耐心细致：愿意通过追问获取完整信息",
        "友好热情：使用通俗易懂的语言",
        "诚实透明：明确告知识别的置信度和不确定性",
        "实用导向：提供的习性信息注重实用性"
      ]
    },
    "prompt_template_design": {
      "template_structure": {
        "agent_metadata": {
          "name": "cat_breed_identifier",
          "description": "猫咪品种识别与习性分析专家",
          "category": "pet_analysis",
          "tags": ["pet_analysis", "cat_breed_identification", "cat_behavior", "pet_care", "conversation", "feature_extraction", "knowledge_based"]
        },
        "environments": {
          "development": {
            "max_tokens": 4096,
            "temperature": 0.3,
            "streaming": false
          },
          "production": {
            "max_tokens": 60000,
            "temperature": 0.3,
            "streaming": false
          },
          "testing": {
            "max_tokens": 2048,
            "temperature": 0.3,
            "streaming": false
          }
        },
        "model_requirements": {
          "primary_model": "global.anthropic.claude-sonnet-4-5-20250929-v1:0",
          "rationale": "Claude Sonnet 4.5具备卓越的推理能力和丰富的知识储备，适合知识问答类任务"
        }
      },
      "system_prompt_design": {
        "design_principles": [
          "角色一致性：提示词与智能体设计规格完全匹配",
          "清晰性：指令明确、具体、易于理解",
          "结构化：遵循标准化的提示词模板格式",
          "知识驱动：充分利用LLM内置的猫咪品种知识",
          "工具集成：明确工具使用方法和调用流程"
        ],
        "core_sections": {
          "identity_and_expertise": {
            "description": "定义Agent的核心身份、专业领域和性格特点",
            "key_elements": [
              "角色定位：猫咪品种识别与习性分析专家",
              "专业领域：品种学、解剖学、行为学、饲养学",
              "性格特点：专业可靠、耐心细致、友好热情、诚实透明、实用导向"
            ]
          },
          "responsibilities_and_workflow": {
            "description": "详细列出Agent的核心职责和标准工作流程",
            "key_elements": [
              "8大核心职责：从输入验证到习性信息提供",
              "标准工作流程：8步流程，包含工具调用和决策分支",
              "工具集成：5个专用工具的使用说明"
            ]
          },
          "knowledge_base": {
            "description": "提供30+主流猫咪品种的详细知识库",
            "coverage": [
              "长毛品种：波斯猫、布偶猫、缅因猫等8个品种",
              "短毛品种：英短、美短、暹罗猫等10个品种",
              "特殊品种：折耳猫、无毛猫、短腿猫等7个品种",
              "东方品种：巴厘猫、爪哇猫等3个品种",
              "其他品种：异国短毛猫、夏特尔猫等4个品种"
            ],
            "feature_dimensions": [
              "毛长：长毛/短毛/无毛/卷毛",
              "毛色与花纹：重点色/蓝灰色/虎斑/斑点/纯色",
              "脸型：扁平脸/圆脸/楔形脸/方形脸",
              "耳朵：折耳/卷耳/大耳朵/有毛簇",
              "眼睛：蓝色/绿色/金色/铜色",
              "体型：大型/中型/小型/短腿",
              "特殊特征：短尾/白色手套/无毛"
            ]
          },
          "confidence_evaluation": {
            "description": "定义置信度评估标准和追问策略",
            "confidence_levels": {
              "high": "80%-100%：特征完整性≥80%，特征典型性高，无矛盾",
              "medium": "50%-79%：特征完整性50%-79%，有2-3个候选品种",
              "low": "<50%：特征完整性<50%，特征模糊或矛盾，可能是混种猫"
            },
            "follow_up_strategy": {
              "when_to_ask": [
                "置信度 < 80%",
                "特征完整性 < 70%",
                "存在多个高置信度候选品种",
                "关键区分特征缺失"
              ],
              "priority_order": [
                "毛长（最重要）",
                "脸型",
                "耳朵",
                "眼睛颜色",
                "毛色与花纹",
                "体型",
                "特殊特征"
              ]
            }
          },
          "output_format": {
            "description": "定义结构化的Markdown输出格式",
            "sections": [
              "识别结果：品种名称、置信度、识别依据、不确定性说明",
              "品种习性：8个维度的详细信息（基本信息、外观、性格、饲养、健康、饮食、适合人群、其他建议）",
              "多候选情况：候选列表、对比表、区分特征",
              "混种情况：判断理由、最接近品种、饲养建议"
            ]
          },
          "limitations_and_boundaries": {
            "description": "明确Agent的功能限制和操作边界",
            "key_limitations": [
              "仅支持文本输入，不支持图像识别",
              "不提供医疗诊断或健康治疗建议",
              "不提供品种价格查询和购买渠道推荐",
              "识别准确率依赖特征描述的完整性",
              "提供的习性信息是一般特性，个体可能有差异"
            ]
          },
          "communication_style": {
            "description": "定义Agent的沟通风格和语气",
            "key_characteristics": [
              "专业而不失亲切",
              "自信而不武断",
              "结构化表达",
              "重点突出",
              "友好互动",
              "实用导向"
            ]
          },
          "tool_usage": {
            "description": "明确5个专用工具的使用说明和调用流程",
            "tools": [
              "validate_user_input：验证用户输入的有效性",
              "extract_feature_keywords：提取猫咪特征关键词",
              "calculate_feature_completeness：计算特征完整性",
              "generate_follow_up_questions：生成追问问题",
              "format_breed_response：格式化品种识别结果"
            ],
            "workflow": "收到输入 → 验证 → 提取特征 → 评估完整性 → 品种匹配 → 追问（如需要）→ 最终输出"
          }
        },
        "knowledge_engineering": {
          "approach": "基于LLM内置知识，不构建外部知识库",
          "breed_coverage": "30+主流品种，覆盖长毛、短毛、特殊、东方等类别",
          "feature_taxonomy": "7个维度的特征分类体系",
          "reasoning_logic": "基于特征匹配、置信度评估、追问决策的推理流程"
        }
      },
      "user_prompt_template_design": {
        "design_principles": [
          "参数化设计：支持{user_input}变量替换",
          "结构化输入：定义清晰的输入数据结构",
          "流程引导：提供4步工作流程指导",
          "工具调用指导：明确工具调用顺序和决策逻辑"
        ],
        "template_structure": {
          "input_section": "用户描述的猫咪特征：{user_input}",
          "workflow_guidance": {
            "step1": "输入验证与特征提取（3个工具）",
            "step2": "品种匹配与置信度评估",
            "step3": "决策与追问（条件触发）",
            "step4": "最终输出（结构化Markdown）"
          },
          "output_requirements": [
            "使用Markdown格式",
            "使用emoji增强可读性",
            "结构清晰、层次分明",
            "突出关键信息",
            "提供实用的建议",
            "保持专业、友好、诚实的语气"
          ]
        }
      },
      "tools_dependencies": {
        "project_tools": [
          "generated_tools/cat_breed_identifier/cat_breed_tools/validate_user_input",
          "generated_tools/cat_breed_identifier/cat_breed_tools/extract_feature_keywords",
          "generated_tools/cat_breed_identifier/cat_breed_tools/calculate_feature_completeness",
          "generated_tools/cat_breed_identifier/cat_breed_tools/generate_follow_up_questions",
          "generated_tools/cat_breed_identifier/cat_breed_tools/format_breed_response"
        ],
        "strands_tools": [],
        "system_tools": [],
        "total_count": 5,
        "integration_notes": "所有工具都是项目专用工具，按照标准工作流程顺序调用"
      }
    },
    "template_reference": {
      "primary_reference": {
        "template_id": "multimodal_analyzer_agent",
        "template_path": "prompts/system_agents_prompts/multimodal_analysis/multimodal_analyzer_agent.yaml",
        "relevance": "参考了多模态分析专家模板的结构化设计和工作流程定义方法",
        "adaptations": [
          "去除了图像识别相关内容，改为基于文本特征描述",
          "添加了30+品种的详细知识库",
          "设计了置信度评估和追问策略",
          "定制了猫咪品种识别的专用工具集成"
        ]
      },
      "design_patterns": [
        "结构化提示词：清晰的章节划分和层次结构",
        "工作流程引导：明确的步骤化执行流程",
        "工具集成模式：标准化的工具调用流程",
        "输出格式规范：Markdown格式的结构化输出",
        "知识库嵌入：将领域知识直接嵌入提示词"
      ]
    },
    "quality_assurance": {
      "completeness_check": {
        "agent_metadata": "✅ 完整：name、description、category、tags",
        "environments": "✅ 完整：development、production、testing配置",
        "system_prompt": "✅ 完整：8个核心章节，覆盖所有设计规格要求",
        "user_prompt_template": "✅ 完整：4步工作流程，输出要求明确",
        "tools_dependencies": "✅ 完整：5个项目工具路径正确"
      },
      "consistency_check": {
        "design_spec_alignment": "✅ 与agent_designer.json完全一致",
        "role_definition": "✅ 角色定义与设计规格匹配",
        "capabilities": "✅ 核心能力覆盖完整",
        "knowledge_domain": "✅ 知识领域与设计规格一致",
        "workflow": "✅ 工作流程符合设计规格",
        "tools_integration": "✅ 工具集成与设计规格匹配"
      },
      "clarity_check": {
        "instructions": "✅ 指令明确、具体、无歧义",
        "workflow": "✅ 工作流程清晰，步骤明确",
        "tools_usage": "✅ 工具使用说明详细",
        "output_format": "✅ 输出格式要求明确",
        "examples": "✅ 提供了充分的示例和说明"
      },
      "executability_check": {
        "actionable_instructions": "✅ 所有指令都是可执行的",
        "tool_call_sequence": "✅ 工具调用顺序明确",
        "decision_logic": "✅ 决策逻辑清晰（置信度、追问条件）",
        "error_handling": "✅ 包含错误处理指导"
      },
      "robustness_check": {
        "edge_cases": "✅ 包含多候选、混种、低置信度等边界情况处理",
        "error_scenarios": "✅ 包含输入验证失败、特征提取失败等错误场景",
        "limitations": "✅ 明确说明功能限制和边界条件"
      }
    },
    "best_practices_applied": {
      "prompt_engineering": [
        "✅ 角色定义：明确的身份、专业领域和能力边界",
        "✅ 任务描述：详细说明智能体需要完成的具体任务",
        "✅ 工作流程：定义清晰的步骤化执行流程",
        "✅ 输出规范：明确输出格式、结构和质量标准",
        "✅ 约束条件：设定操作边界和限制条件",
        "✅ 错误处理：包含异常情况的处理指导",
        "✅ 工具集成：明确工具使用方法和依赖关系"
      ],
      "knowledge_engineering": [
        "✅ 知识库嵌入：将30+品种知识直接嵌入提示词",
        "✅ 特征分类：建立7维度特征分类体系",
        "✅ 推理逻辑：定义基于特征匹配的推理流程",
        "✅ 置信度评估：建立量化的置信度评估标准"
      ],
      "interaction_design": [
        "✅ 多轮对话：支持交互式追问和上下文保持",
        "✅ 用户友好：使用通俗语言，提供选项帮助",
        "✅ 透明度：明确展示置信度和不确定性",
        "✅ 实用性：提供可操作的饲养建议"
      ],
      "nexus_ai_standards": [
        "✅ YAML格式：严格遵循Nexus-AI提示词模板格式",
        "✅ 版本管理：包含version、status、created_date等元数据",
        "✅ 环境配置：支持development、production、testing环境",
        "✅ 工具依赖：明确列出所有工具依赖路径",
        "✅ 模型支持：指定Claude Sonnet 4.5模型"
      ]
    },
    "validation_results": {
      "yaml_syntax": "✅ YAML语法正确，可以被正确解析",
      "file_structure": "✅ 文件结构符合Nexus-AI标准",
      "required_fields": "✅ 所有必需字段都已包含",
      "tools_paths": "✅ 工具路径格式正确，与项目工具匹配",
      "model_compatibility": "✅ 模型ID正确，兼容Bedrock API"
    },
    "artifacts": {
      "prompt_template_file": {
        "path": "prompts/generated_agents_prompts/cat_breed_identifier/cat_breed_identifier.yaml",
        "format": "YAML",
        "size": "约15KB",
        "validation_status": "通过",
        "created_date": "2025-12-07T14:08:39.092100+00:00"
      }
    },
    "next_steps": {
      "immediate": [
        "Agent代码开发：基于提示词模板实现Agent执行脚本",
        "集成测试：验证提示词模板与工具的集成效果",
        "性能测试：评估响应速度和准确率"
      ],
      "future_enhancements": [
        "添加图像识别支持（多模态扩展）",
        "构建外部知识库（更详细的品种信息）",
        "支持多语言（英文、日文等）",
        "添加品种对比功能",
        "集成健康咨询服务"
      ]
    },
    "summary": {
      "completion_status": "✅ 完成",
      "quality_level": "高质量",
      "design_spec_compliance": "100%",
      "tools_integration": "完整集成5个专用工具",
      "knowledge_coverage": "30+主流品种，7维度特征体系",
      "best_practices": "全面应用提示词工程最佳实践",
      "nexus_ai_compliance": "完全符合Nexus-AI平台标准"
    }
  }
}