{
  "tool_development": {
    "development_overview": {
      "project_name": "kids_companion_chatbot",
      "version": "1.0",
      "date": "2025-11-26",
      "development_scope": "为儿童智能陪伴对话系统开发4个核心工具模块，支持用户画像管理、会话历史管理、内容安全检查和信息提取功能",
      "design_principles": [
        "模块化设计：每个工具模块职责单一，功能明确",
        "数据持久化：使用本地JSON文件存储用户数据，确保隐私安全",
        "类型安全：使用完整的类型注解，提高代码可维护性",
        "错误处理：实现健壮的异常处理机制，返回结构化的错误信息",
        "儿童友好：所有工具设计考虑儿童特点，支持年龄适配",
        "缓存目录规范：统一使用.cache/kids_companion_chatbot/作为数据存储根目录"
      ],
      "key_decisions": [
        "使用本地文件存储而非数据库：简化部署，保护儿童隐私，避免外部依赖",
        "采用JSON格式存储数据：易于读写和调试，支持结构化数据",
        "实现三层数据模型：ChildProfile（用户画像）、SessionHistory（会话历史）、ConversationTurn（对话轮次）",
        "内置敏感词库：预定义儿童内容安全规则，确保对话内容适合儿童",
        "基于规则的信息提取：使用关键词匹配和正则表达式提取用户信息，无需外部NLP依赖",
        "年龄分组策略：将3-12岁儿童分为3-6、7-9、10-12三个年龄段，实现差异化处理"
      ]
    },
    "tools": [
      {
        "tool_name": "create_child_profile",
        "description": "创建新的儿童用户画像，初始化用户数据结构",
        "function_signature": "create_child_profile(child_id: str, name: str = '', age: Optional[int] = None, initial_interests: Optional[List[str]] = None) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "name",
            "type": "str",
            "description": "儿童姓名",
            "required": false
          },
          {
            "name": "age",
            "type": "Optional[int]",
            "description": "儿童年龄",
            "required": false
          },
          {
            "name": "initial_interests",
            "type": "Optional[List[str]]",
            "description": "初始兴趣列表",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的操作结果，包含创建的用户画像信息或错误信息",
        "dependencies": ["json", "pathlib", "datetime"],
        "implementation_notes": [
          "自动根据年龄确定年龄组（3-6、7-9、10-12）",
          "创建.cache/kids_companion_chatbot/profiles目录存储用户画像",
          "使用child_id作为文件名，确保唯一性",
          "自动记录创建时间戳"
        ],
        "error_handling": [
          "捕获文件系统异常，返回错误信息",
          "验证输入参数的有效性"
        ],
        "usage_examples": [
          "create_child_profile('child_001', name='小明', age=6, initial_interests=['画画', '足球'])"
        ]
      },
      {
        "tool_name": "load_child_profile",
        "description": "加载儿童用户画像数据",
        "function_signature": "load_child_profile(child_id: str) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的用户画像数据或错误信息",
        "dependencies": ["json", "pathlib"],
        "implementation_notes": [
          "从.cache/kids_companion_chatbot/profiles/{child_id}.json加载数据",
          "返回完整的用户画像信息"
        ],
        "error_handling": [
          "文件不存在时返回not_found状态",
          "文件读取失败时返回错误信息"
        ],
        "usage_examples": [
          "load_child_profile('child_001')"
        ]
      },
      {
        "tool_name": "update_child_profile",
        "description": "更新儿童用户画像，支持增量更新兴趣、性格特征等信息",
        "function_signature": "update_child_profile(child_id: str, name: Optional[str] = None, age: Optional[int] = None, new_interests: Optional[List[str]] = None, new_personality_traits: Optional[List[str]] = None, new_favorite_topics: Optional[List[str]] = None, conversation_preferences: Optional[Dict[str, Any]] = None, notes: Optional[List[str]] = None, increment_conversations: bool = False, increment_messages: int = 0) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "name",
            "type": "Optional[str]",
            "description": "更新姓名",
            "required": false
          },
          {
            "name": "age",
            "type": "Optional[int]",
            "description": "更新年龄",
            "required": false
          },
          {
            "name": "new_interests",
            "type": "Optional[List[str]]",
            "description": "新增兴趣列表",
            "required": false
          },
          {
            "name": "new_personality_traits",
            "type": "Optional[List[str]]",
            "description": "新增性格特征列表",
            "required": false
          },
          {
            "name": "new_favorite_topics",
            "type": "Optional[List[str]]",
            "description": "新增喜爱话题列表",
            "required": false
          },
          {
            "name": "conversation_preferences",
            "type": "Optional[Dict[str, Any]]",
            "description": "对话偏好设置",
            "required": false
          },
          {
            "name": "notes",
            "type": "Optional[List[str]]",
            "description": "新增备注列表",
            "required": false
          },
          {
            "name": "increment_conversations",
            "type": "bool",
            "description": "是否增加对话计数",
            "required": false
          },
          {
            "name": "increment_messages",
            "type": "int",
            "description": "增加消息计数",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的操作结果，包含更新后的用户画像",
        "dependencies": ["json", "pathlib", "datetime"],
        "implementation_notes": [
          "支持增量更新，新信息追加到现有列表",
          "自动去重，避免重复记录",
          "更新年龄时自动重新计算年龄组",
          "自动更新last_updated时间戳"
        ],
        "error_handling": [
          "用户画像不存在时返回错误",
          "文件读写失败时返回错误信息"
        ],
        "usage_examples": [
          "update_child_profile('child_001', new_interests=['游泳'], increment_conversations=True)"
        ]
      },
      {
        "tool_name": "list_all_profiles",
        "description": "列出所有儿童用户画像的基本信息",
        "function_signature": "list_all_profiles() -> str",
        "parameters": [],
        "return_type": "str",
        "return_description": "JSON格式的所有用户画像列表",
        "dependencies": ["json", "pathlib"],
        "implementation_notes": [
          "扫描.cache/kids_companion_chatbot/profiles目录",
          "返回每个用户的基本信息（ID、姓名、年龄、对话次数等）"
        ],
        "error_handling": [
          "目录不存在时返回空列表",
          "跳过无法读取的文件"
        ],
        "usage_examples": [
          "list_all_profiles()"
        ]
      },
      {
        "tool_name": "delete_child_profile",
        "description": "删除儿童用户画像",
        "function_signature": "delete_child_profile(child_id: str) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的操作结果",
        "dependencies": ["pathlib"],
        "implementation_notes": [
          "删除用户画像文件",
          "不影响会话历史文件（需单独删除）"
        ],
        "error_handling": [
          "文件不存在时返回错误",
          "删除失败时返回错误信息"
        ],
        "usage_examples": [
          "delete_child_profile('child_001')"
        ]
      },
      {
        "tool_name": "create_session",
        "description": "创建新的对话会话",
        "function_signature": "create_session(child_id: str, session_id: Optional[str] = None) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "session_id",
            "type": "Optional[str]",
            "description": "会话ID，默认自动生成",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的操作结果，包含创建的会话信息",
        "dependencies": ["json", "pathlib", "datetime"],
        "implementation_notes": [
          "自动生成会话ID格式：{child_id}_{timestamp}",
          "创建.cache/kids_companion_chatbot/sessions/{child_id}目录",
          "初始化空的对话轮次列表"
        ],
        "error_handling": [
          "捕获文件系统异常，返回错误信息"
        ],
        "usage_examples": [
          "create_session('child_001')"
        ]
      },
      {
        "tool_name": "load_session",
        "description": "加载对话会话数据",
        "function_signature": "load_session(child_id: str, session_id: str) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "session_id",
            "type": "str",
            "description": "会话ID",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的会话数据或错误信息",
        "dependencies": ["json", "pathlib"],
        "implementation_notes": [
          "从.cache/kids_companion_chatbot/sessions/{child_id}/{session_id}.json加载数据"
        ],
        "error_handling": [
          "会话不存在时返回not_found状态"
        ],
        "usage_examples": [
          "load_session('child_001', 'child_001_20251126_120000')"
        ]
      },
      {
        "tool_name": "add_conversation_turn",
        "description": "向会话添加对话轮次",
        "function_signature": "add_conversation_turn(child_id: str, session_id: str, user_message: str, assistant_response: str, extracted_info: Optional[Dict[str, Any]] = None) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "session_id",
            "type": "str",
            "description": "会话ID",
            "required": true
          },
          {
            "name": "user_message",
            "type": "str",
            "description": "用户消息",
            "required": true
          },
          {
            "name": "assistant_response",
            "type": "str",
            "description": "助手回复",
            "required": true
          },
          {
            "name": "extracted_info",
            "type": "Optional[Dict[str, Any]]",
            "description": "提取的信息",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的操作结果",
        "dependencies": ["json", "pathlib", "datetime"],
        "implementation_notes": [
          "自动生成turn_id（递增）",
          "记录时间戳",
          "支持存储提取的用户信息"
        ],
        "error_handling": [
          "会话不存在时返回错误"
        ],
        "usage_examples": [
          "add_conversation_turn('child_001', 'session_001', '我喜欢画画', '画画真有趣！')"
        ]
      },
      {
        "tool_name": "end_session",
        "description": "结束对话会话，记录结束时间和摘要",
        "function_signature": "end_session(child_id: str, session_id: str, session_summary: Optional[str] = None) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "session_id",
            "type": "str",
            "description": "会话ID",
            "required": true
          },
          {
            "name": "session_summary",
            "type": "Optional[str]",
            "description": "会话摘要",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的操作结果",
        "dependencies": ["json", "pathlib", "datetime"],
        "implementation_notes": [
          "记录结束时间",
          "保存会话摘要（如提供）"
        ],
        "error_handling": [
          "会话不存在时返回错误"
        ],
        "usage_examples": [
          "end_session('child_001', 'session_001', '讨论了绘画和运动')"
        ]
      },
      {
        "tool_name": "list_child_sessions",
        "description": "列出儿童的所有会话",
        "function_signature": "list_child_sessions(child_id: str, limit: int = 10, include_details: bool = False) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "limit",
            "type": "int",
            "description": "返回的会话数量限制",
            "required": false
          },
          {
            "name": "include_details",
            "type": "bool",
            "description": "是否包含详细的对话轮次",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的会话列表",
        "dependencies": ["json", "pathlib"],
        "implementation_notes": [
          "按修改时间倒序排列",
          "支持限制返回数量",
          "可选择是否包含详细对话内容"
        ],
        "error_handling": [
          "目录不存在时返回空列表"
        ],
        "usage_examples": [
          "list_child_sessions('child_001', limit=5)"
        ]
      },
      {
        "tool_name": "get_recent_conversations",
        "description": "获取最近的对话历史",
        "function_signature": "get_recent_conversations(child_id: str, max_turns: int = 5) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "max_turns",
            "type": "int",
            "description": "最多返回的对话轮次数",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的最近对话历史",
        "dependencies": ["json", "pathlib"],
        "implementation_notes": [
          "从最新会话开始收集对话轮次",
          "跨会话收集，直到达到max_turns"
        ],
        "error_handling": [
          "无会话时返回空列表"
        ],
        "usage_examples": [
          "get_recent_conversations('child_001', max_turns=5)"
        ]
      },
      {
        "tool_name": "delete_session",
        "description": "删除对话会话",
        "function_signature": "delete_session(child_id: str, session_id: str) -> str",
        "parameters": [
          {
            "name": "child_id",
            "type": "str",
            "description": "儿童的唯一标识符",
            "required": true
          },
          {
            "name": "session_id",
            "type": "str",
            "description": "会话ID",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的操作结果",
        "dependencies": ["pathlib"],
        "implementation_notes": [
          "删除会话文件"
        ],
        "error_handling": [
          "会话不存在时返回错误"
        ],
        "usage_examples": [
          "delete_session('child_001', 'session_001')"
        ]
      },
      {
        "tool_name": "check_content_safety",
        "description": "检查内容安全性，包括敏感词和年龄适配性",
        "function_signature": "check_content_safety(text: str, age_group: Optional[str] = None, strict_mode: bool = True) -> str",
        "parameters": [
          {
            "name": "text",
            "type": "str",
            "description": "要检查的文本内容",
            "required": true
          },
          {
            "name": "age_group",
            "type": "Optional[str]",
            "description": "年龄组（3-6, 7-9, 10-12）",
            "required": false
          },
          {
            "name": "strict_mode",
            "type": "bool",
            "description": "是否使用严格模式",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的安全检查结果",
        "dependencies": ["re"],
        "implementation_notes": [
          "内置敏感词库，包括暴力、恐怖、不当内容等类别",
          "检查句子长度是否适合年龄段",
          "提供改进建议"
        ],
        "error_handling": [
          "捕获所有异常，返回错误信息"
        ],
        "usage_examples": [
          "check_content_safety('今天我们一起画画吧', age_group='3-6')"
        ]
      },
      {
        "tool_name": "filter_sensitive_content",
        "description": "过滤敏感内容，替换敏感词",
        "function_signature": "filter_sensitive_content(text: str, replacement: str = '***') -> str",
        "parameters": [
          {
            "name": "text",
            "type": "str",
            "description": "原始文本",
            "required": true
          },
          {
            "name": "replacement",
            "type": "str",
            "description": "替换字符串",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的过滤结果",
        "dependencies": [],
        "implementation_notes": [
          "自动识别并替换敏感词",
          "记录所有替换操作"
        ],
        "error_handling": [
          "捕获所有异常，返回错误信息"
        ],
        "usage_examples": [
          "filter_sensitive_content('包含敏感词的文本')"
        ]
      },
      {
        "tool_name": "assess_age_appropriateness",
        "description": "评估内容的年龄适配性",
        "function_signature": "assess_age_appropriateness(text: str, target_age_group: str) -> str",
        "parameters": [
          {
            "name": "text",
            "type": "str",
            "description": "要评估的文本",
            "required": true
          },
          {
            "name": "target_age_group",
            "type": "str",
            "description": "目标年龄组（3-6, 7-9, 10-12）",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的评估结果",
        "dependencies": [],
        "implementation_notes": [
          "计算适配性评分（0-100）",
          "提供详细的问题分析",
          "给出改进建议"
        ],
        "error_handling": [
          "不支持的年龄组返回错误"
        ],
        "usage_examples": [
          "assess_age_appropriateness('复杂的科学理论', '3-6')"
        ]
      },
      {
        "tool_name": "generate_safe_alternative",
        "description": "生成安全的替代内容建议",
        "function_signature": "generate_safe_alternative(text: str, age_group: str, reason: str = '内容不适合儿童') -> str",
        "parameters": [
          {
            "name": "text",
            "type": "str",
            "description": "原始文本",
            "required": true
          },
          {
            "name": "age_group",
            "type": "str",
            "description": "年龄组（3-6, 7-9, 10-12）",
            "required": true
          },
          {
            "name": "reason",
            "type": "str",
            "description": "需要替代的原因",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的替代建议",
        "dependencies": [],
        "implementation_notes": [
          "分析当前内容的问题",
          "提供具体的替代建议",
          "根据年龄组提供差异化建议"
        ],
        "error_handling": [
          "捕获所有异常，返回错误信息"
        ],
        "usage_examples": [
          "generate_safe_alternative('不当内容', '7-9', '包含敏感词')"
        ]
      },
      {
        "tool_name": "batch_check_conversation",
        "description": "批量检查对话内容的安全性",
        "function_signature": "batch_check_conversation(conversation_turns: List[Dict[str, str]], age_group: str) -> str",
        "parameters": [
          {
            "name": "conversation_turns",
            "type": "List[Dict[str, str]]",
            "description": "对话轮次列表",
            "required": true
          },
          {
            "name": "age_group",
            "type": "str",
            "description": "年龄组（3-6, 7-9, 10-12）",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的批量检查结果",
        "dependencies": [],
        "implementation_notes": [
          "检查每轮对话的用户消息和助手回复",
          "计算整体安全率",
          "提供详细的检查报告"
        ],
        "error_handling": [
          "捕获所有异常，返回错误信息"
        ],
        "usage_examples": [
          "batch_check_conversation([{'user_message': '你好', 'assistant_response': '你好呀'}], '7-9')"
        ]
      },
      {
        "tool_name": "extract_child_info_from_message",
        "description": "从消息中提取儿童信息，包括兴趣、性格、情绪等",
        "function_signature": "extract_child_info_from_message(message: str, extract_interests: bool = True, extract_personality: bool = True, extract_emotions: bool = True, extract_topics: bool = True, extract_preferences: bool = True) -> str",
        "parameters": [
          {
            "name": "message",
            "type": "str",
            "description": "用户消息文本",
            "required": true
          },
          {
            "name": "extract_interests",
            "type": "bool",
            "description": "是否提取兴趣",
            "required": false
          },
          {
            "name": "extract_personality",
            "type": "bool",
            "description": "是否提取性格特征",
            "required": false
          },
          {
            "name": "extract_emotions",
            "type": "bool",
            "description": "是否提取情绪",
            "required": false
          },
          {
            "name": "extract_topics",
            "type": "bool",
            "description": "是否提取话题",
            "required": false
          },
          {
            "name": "extract_preferences",
            "type": "bool",
            "description": "是否提取喜好",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的提取结果",
        "dependencies": ["re"],
        "implementation_notes": [
          "使用关键词匹配识别兴趣、性格、情绪",
          "使用正则表达式提取喜好和厌恶",
          "提供提取统计信息"
        ],
        "error_handling": [
          "捕获所有异常，返回错误信息"
        ],
        "usage_examples": [
          "extract_child_info_from_message('我喜欢画画和足球')"
        ]
      },
      {
        "tool_name": "extract_info_from_conversation",
        "description": "从完整对话中提取和聚合信息",
        "function_signature": "extract_info_from_conversation(conversation_turns: List[Dict[str, str]]) -> str",
        "parameters": [
          {
            "name": "conversation_turns",
            "type": "List[Dict[str, str]]",
            "description": "对话轮次列表",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的聚合提取结果",
        "dependencies": [],
        "implementation_notes": [
          "聚合所有对话轮次的信息",
          "去重和统计频率",
          "提供频率分析"
        ],
        "error_handling": [
          "捕获所有异常，返回错误信息"
        ],
        "usage_examples": [
          "extract_info_from_conversation([{'user_message': '我喜欢画画'}])"
        ]
      },
      {
        "tool_name": "identify_age_from_message",
        "description": "从消息中识别年龄信息",
        "function_signature": "identify_age_from_message(message: str) -> str",
        "parameters": [
          {
            "name": "message",
            "type": "str",
            "description": "用户消息文本",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的年龄识别结果",
        "dependencies": ["re"],
        "implementation_notes": [
          "使用正则表达式匹配年龄模式",
          "自动确定年龄组",
          "验证年龄合理性（1-18岁）"
        ],
        "error_handling": [
          "无法识别时返回未识别状态"
        ],
        "usage_examples": [
          "identify_age_from_message('我今年7岁')"
        ]
      },
      {
        "tool_name": "identify_name_from_message",
        "description": "从消息中识别姓名信息",
        "function_signature": "identify_name_from_message(message: str) -> str",
        "parameters": [
          {
            "name": "message",
            "type": "str",
            "description": "用户消息文本",
            "required": true
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的姓名识别结果",
        "dependencies": ["re"],
        "implementation_notes": [
          "使用正则表达式匹配姓名模式",
          "过滤不合理的姓名（长度限制）"
        ],
        "error_handling": [
          "无法识别时返回未识别状态"
        ],
        "usage_examples": [
          "identify_name_from_message('我叫小明')"
        ]
      },
      {
        "tool_name": "suggest_conversation_topics",
        "description": "根据儿童兴趣和年龄推荐对话话题",
        "function_signature": "suggest_conversation_topics(child_interests: List[str], child_age_group: str, recent_topics: Optional[List[str]] = None) -> str",
        "parameters": [
          {
            "name": "child_interests",
            "type": "List[str]",
            "description": "儿童兴趣列表",
            "required": true
          },
          {
            "name": "child_age_group",
            "type": "str",
            "description": "年龄组（3-6, 7-9, 10-12）",
            "required": true
          },
          {
            "name": "recent_topics",
            "type": "Optional[List[str]]",
            "description": "最近讨论的话题",
            "required": false
          }
        ],
        "return_type": "str",
        "return_description": "JSON格式的话题推荐结果",
        "dependencies": [],
        "implementation_notes": [
          "基于兴趣生成相关话题",
          "基于年龄段提供适合的话题",
          "过滤最近讨论过的话题",
          "返回最多10个推荐话题"
        ],
        "error_handling": [
          "捕获所有异常，返回错误信息"
        ],
        "usage_examples": [
          "suggest_conversation_topics(['sports', 'arts'], '7-9', ['学校'])"
        ]
      }
    ],
    "code_quality": {
      "code_standards": [
        "遵循PEP 8代码风格规范",
        "使用完整的类型注解（typing模块）",
        "所有工具函数使用@tool装饰器",
        "提供详细的文档字符串（docstring）",
        "使用有意义的变量和函数命名",
        "保持函数单一职责原则"
      ],
      "testing_strategy": [
        "建议对每个工具函数进行单元测试",
        "测试正常流程和异常情况",
        "验证数据持久化的正确性",
        "测试敏感词检测的准确性",
        "验证信息提取的有效性"
      ],
      "performance_considerations": [
        "使用本地文件存储，避免网络延迟",
        "JSON文件大小控制，避免单个文件过大",
        "敏感词匹配使用简单字符串查找，性能优秀",
        "信息提取使用规则匹配，无需复杂计算",
        "会话历史按child_id分目录存储，提高检索效率"
      ],
      "security_measures": [
        "用户数据存储在本地缓存目录，不上传到云端",
        "敏感词库内置，防止儿童接触不当内容",
        "文件权限控制，仅应用程序可访问",
        "输入验证，防止路径遍历攻击",
        "错误信息不暴露系统敏感信息"
      ]
    },
    "integration_details": {
      "aws_services": [],
      "external_libraries": [
        "strands - Agent工具框架，用于@tool装饰器"
      ],
      "api_endpoints": [],
      "data_formats": [
        "JSON - 用户画像、会话历史的存储格式",
        "UTF-8编码 - 所有文本文件使用UTF-8编码"
      ]
    },
    "development_notes": "本次工具开发完成了4个核心模块，共22个工具函数，覆盖了儿童智能陪伴对话系统的所有核心功能需求。采用本地文件存储方案，确保儿童隐私安全，无外部依赖。内置敏感词库和年龄适配规则，确保对话内容的安全性和适龄性。信息提取基于关键词匹配和正则表达式，简单高效。所有工具函数返回JSON格式的结构化数据，便于Agent处理。缓存目录统一使用.cache/kids_companion_chatbot/，按功能模块（profiles、sessions）和用户ID进行分层存储。工具代码遵循Python 3.13+规范，使用完整的类型注解和错误处理机制，确保代码质量和可维护性。"
  }
}