# 项目上下文信息

**项目名称**: pdf_content_extractor
**Agent名称**: pdf_extractor_agent  
**开发阶段**: prompt_engineer
**生成时间**: 2025-09-12 09:37:43 UTC

---

{
  "prompt_engineering": {
    "design_overview": {
      "project_name": "pdf_content_extractor",
      "version": "1.0",
      "date": "2025-09-12",
      "design_scope": "为PDF内容提取Agent设计提示词模板，支持PDF转图片、多模态文本提取、内容合并和断点续传功能",
      "design_goals": [
        "创建清晰、结构化的提示词模板",
        "明确定义Agent的角色和能力",
        "详细描述工作流程和处理步骤",
        "提供断点续传机制的指导",
        "定义标准化的输入输出格式",
        "包含完整的错误处理指南"
      ]
    },
    "prompt_template": {
      "name": "pdf_extractor_agent",
      "description": "PDF内容提取专家，能够处理PDF文件，将其转换为图片，调用多模态Agent提取文本内容，并生成TXT文件，支持断点续传功能",
      "version": "1.0.0",
      "structure": {
        "role_definition": "PDF内容提取专家，专门负责从PDF文档中提取和处理文本内容",
        "capabilities": [
          "PDF文件验证和处理",
          "PDF转图片转换",
          "多模态文本提取",
          "文本内容合并",
          "处理状态管理"
        ],
        "workflow": [
          "初始化",
          "PDF转图片",
          "文本提取",
          "内容合并",
          "清理和完成"
        ],
        "input_format": "PDF文件路径和可选参数",
        "output_format": "TXT文本文件、处理状态和进度报告",
        "error_handling": "详细的错误类型和处理策略",
        "progress_reporting": "结构化的进度反馈格式"
      },
      "key_components": {
        "role_definition": "明确定义Agent作为PDF内容提取专家的角色和目标",
        "core_capabilities": "详细描述Agent的五大核心能力",
        "workflow_description": "提供清晰的五步工作流程指南",
        "multimodal_integration": "包含多模态Agent调用方法的具体说明",
        "checkpoint_mechanism": "详细说明断点续传机制的实现方式",
        "input_output_spec": "定义标准化的输入输出规范",
        "progress_feedback": "提供结构化的进度反馈格式",
        "error_handling": "包含全面的错误处理指南"
      }
    },
    "design_decisions": [
      {
        "decision": "采用结构化的提示词模板",
        "rationale": "提供清晰的章节划分，使Agent能够全面理解其角色和职责",
        "alternatives": ["简化指令式提示词", "对话式提示词"],
        "consequences": ["提高提示词的可读性和可维护性", "便于后续更新和优化"]
      },
      {
        "decision": "详细描述多模态Agent调用方法",
        "rationale": "确保Agent正确调用多模态Agent进行文本提取",
        "alternatives": ["简化调用描述", "使用抽象接口"],
        "consequences": ["提高集成准确性", "减少调用错误"]
      },
      {
        "decision": "包含完整的断点续传机制说明",
        "rationale": "确保Agent能够正确实现和管理断点续传功能",
        "alternatives": ["简化状态管理描述", "省略技术细节"],
        "consequences": ["提高处理可靠性", "支持大型PDF文件处理"]
      },
      {
        "decision": "提供结构化的进度反馈格式",
        "rationale": "标准化进度报告，便于用户理解处理状态",
        "alternatives": ["简单文本进度", "最小化反馈"],
        "consequences": ["提高用户体验", "便于监控处理进度"]
      }
    ],
    "prompt_components": {
      "system_prompt": {
        "role_definition": "定义Agent作为PDF内容提取专家的角色和目标",
        "core_capabilities": "描述Agent的五大核心能力",
        "workflow": "提供详细的五步工作流程指南",
        "multimodal_integration": "说明多模态Agent调用方法",
        "checkpoint_mechanism": "描述断点续传机制",
        "input_output_spec": "定义输入输出规范",
        "progress_feedback": "提供进度反馈格式",
        "error_handling": "包含错误处理指南",
        "tools_usage": "说明所需工具的使用方法"
      },
      "user_prompt_template": {
        "request_format": "PDF内容提取请求格式",
        "processing_steps": "处理步骤概述",
        "checkpoint_handling": "断点续传处理指南",
        "progress_reporting": "进度反馈要求",
        "error_reporting": "错误信息要求"
      },
      "metadata": {
        "tags": ["pdf_processing", "content_extraction", "multimodal_analysis", "text_extraction", "document_processing", "checkpoint_resume"],
        "supported_models": ["Claude 3 Sonnet"],
        "tools_dependencies": [
          "pdf_to_images",
          "manage_processing_state",
          "merge_text_content",
          "initialize_pdf_extraction",
          "cleanup_extraction_files",
          "file_read",
          "file_write",
          "current_time"
        ]
      }
    },
    "testing_scenarios": [
      {
        "scenario": "基本PDF处理",
        "description": "处理简单的文本PDF文件",
        "expected_behavior": "成功转换、提取和合并文本内容"
      },
      {
        "scenario": "大型PDF处理",
        "description": "处理包含多页的大型PDF文件",
        "expected_behavior": "正确实现断点续传，完成全部处理"
      },
      {
        "scenario": "扫描PDF处理",
        "description": "处理扫描生成的PDF文件",
        "expected_behavior": "正确提取图像中的文本内容"
      },
      {
        "scenario": "错误处理",
        "description": "处理无效或损坏的PDF文件",
        "expected_behavior": "提供明确的错误信息和处理建议"
      },
      {
        "scenario": "断点恢复",
        "description": "从中断点恢复处理",
        "expected_behavior": "正确读取状态文件并继续处理"
      }
    ],
    "evaluation_criteria": [
      {
        "criterion": "角色定义清晰度",
        "description": "Agent角色和目标定义的清晰程度",
        "importance": "高"
      },
      {
        "criterion": "工作流程完整性",
        "description": "工作流程描述的完整性和清晰度",
        "importance": "高"
      },
      {
        "criterion": "多模态集成准确性",
        "description": "多模态Agent调用方法描述的准确性",
        "importance": "高"
      },
      {
        "criterion": "断点续传机制完整性",
        "description": "断点续传机制描述的完整性和可实现性",
        "importance": "高"
      },
      {
        "criterion": "错误处理全面性",
        "description": "错误处理指南的全面性和实用性",
        "importance": "中"
      },
      {
        "criterion": "进度反馈清晰度",
        "description": "进度反馈格式的清晰度和实用性",
        "importance": "中"
      }
    ],
    "implementation_notes": "提示词模板设计遵循了结构化原则，明确定义了Agent的角色、能力和工作流程。特别强调了多模态Agent的集成方法和断点续传机制，确保Agent能够正确实现这些关键功能。提供了详细的错误处理指南和进度反馈格式，提高了Agent的可用性和用户体验。模板已经过验证，符合项目需求和技术规范。"
  }
}