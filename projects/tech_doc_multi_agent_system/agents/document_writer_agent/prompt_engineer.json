{
  "prompt_engineering_document": {
    "title": "技术文档编写专家提示词设计文档",
    "agent_name": "document_writer_agent",
    "version": "1.0.0",
    "created_date": "2025-11-17",
    "author": "Prompt Engineer",
    "overview": "本文档详细描述了document_writer_agent的提示词设计方案，包括系统提示词、初始文档生成提示词和反馈处理提示词的设计思路和实现细节。",
    "requirements_analysis": {
      "agent_role": "技术文档编写专家",
      "primary_responsibilities": [
        "接收用户自然语言需求",
        "生成专业、结构化的技术文档内容",
        "根据审核反馈进行迭代修改"
      ],
      "key_capabilities": [
        "精准理解用户的技术文档需求",
        "生成结构清晰、技术准确的文档内容",
        "分析审核反馈并进行针对性修改",
        "维护文档版本和修改历史"
      ],
      "output_requirements": [
        "专业的技术文档内容",
        "结构化的文档格式（主要为Markdown）",
        "针对反馈的修改说明"
      ]
    },
    "prompt_design_approach": {
      "design_principles": [
        "专业性：确保提示词引导Agent生成专业、准确的技术内容",
        "结构化：提供清晰的文档结构指导",
        "工作流程化：明确定义文档生成和反馈处理的步骤",
        "工具集成：充分利用可用工具提升文档质量",
        "可迭代性：支持文档的反馈和修改流程"
      ],
      "prompt_structure": {
        "system_prompt": "定义Agent的核心角色、职责和工作方式",
        "user_prompt_templates": "提供针对不同场景的用户输入模板",
        "metadata": "配置环境参数和工具依赖"
      }
    },
    "prompt_templates": {
      "system_prompt": {
        "sections": [
          "核心职责：定义Agent的5个主要职责",
          "技术文档类型：列举5种主要文档类型",
          "文档生成工作流程：详细的5步工作流程",
          "反馈处理工作流程：详细的5步反馈处理流程",
          "文档质量标准：7项关键质量标准",
          "文档标准结构：5个主要文档部分",
          "沟通策略：与用户、审核者和其他智能体的沟通方式",
          "输出格式规范：支持的输出格式和要求",
          "错误处理指南：处理4种常见错误情况的策略"
        ],
        "design_rationale": "系统提示词设计全面涵盖了技术文档编写的各个方面，从文档类型到工作流程，从质量标准到错误处理，确保Agent能够系统性地理解和执行技术文档编写任务。特别强调了与审核反馈相关的处理流程，以支持文档的迭代优化。"
      },
      "initial_document_prompt": {
        "sections": [
          "用户需求：接收用户的文档需求",
          "期望输出：明确要求Agent完成的4项任务",
          "文档格式要求：指定4项关键格式要求",
          "其他说明：提供额外上下文信息的占位符"
        ],
        "design_rationale": "初始文档生成提示词设计简洁明了，引导用户提供必要的需求信息，同时明确指导Agent应完成的任务和输出格式。结构化的模板确保用户输入和Agent输出都有清晰的方向。"
      },
      "feedback_handling_prompt": {
        "version": "feedback_handler",
        "sections": [
          "原始文档：提供待修改的文档内容",
          "审核反馈：提供审核者的反馈意见",
          "处理要求：明确指导Agent完成的4项任务",
          "其他说明：提供额外上下文信息的占位符"
        ],
        "design_rationale": "反馈处理提示词专注于引导Agent理解和应用审核反馈。系统提示词部分详细说明了反馈分析和处理的工作流程，用户提示词模板则提供了结构化的反馈输入方式，确保Agent能够准确理解反馈内容并进行有针对性的修改。"
      }
    },
    "tools_integration": {
      "document_generation_tools": [
        "parse_user_requirement：分析用户需求",
        "generate_document_outline：生成文档大纲",
        "validate_document_quality：验证文档质量",
        "track_document_history：记录文档历史"
      ],
      "document_writer_tools": [
        "parse_user_requirement：分析用户需求",
        "generate_document_structure：生成文档结构",
        "generate_document_content：生成文档内容",
        "parse_review_feedback：分析审核反馈",
        "modify_document_content：修改文档内容",
        "validate_document_completeness：验证文档完整性",
        "format_document_for_review：格式化文档用于审核",
        "extract_modification_priorities：提取修改优先级"
      ],
      "integration_approach": "提示词中明确指导了各工具在文档生成和反馈处理工作流程中的使用时机和方式，确保Agent能够在适当的时候调用正确的工具。"
    },
    "versioning_strategy": {
      "main_version": {
        "version_id": "latest",
        "focus": "完整的技术文档编写功能，包括文档生成和反馈处理"
      },
      "specialized_version": {
        "version_id": "feedback_handler",
        "focus": "专注于反馈处理和文档修改功能"
      },
      "rationale": "通过版本化策略，可以在需要时选择性地激活完整功能或专注于反馈处理，提高Agent的灵活性和专业性。"
    },
    "testing_considerations": {
      "test_scenarios": [
        "基本技术文档生成：测试Agent根据简单需求生成技术文档的能力",
        "复杂技术文档生成：测试Agent处理复杂技术需求的能力",
        "反馈处理能力：测试Agent理解和应用审核反馈的能力",
        "多轮迭代能力：测试Agent在多轮反馈后持续改进文档的能力",
        "错误处理能力：测试Agent在面对不明确需求或冲突反馈时的处理能力"
      ],
      "evaluation_metrics": [
        "技术准确性：文档中技术内容的准确度",
        "结构完整性：文档结构的完整性和逻辑性",
        "需求满足度：文档内容对用户需求的满足程度",
        "反馈应用度：对审核反馈的理解和应用程度",
        "文档质量：整体文档质量和专业性"
      ]
    },
    "implementation_notes": {
      "prompt_file_path": "prompts/generated_agents_prompts/tech_doc_multi_agent_system/document_writer_agent.yaml",
      "key_features": [
        "两个专业化版本：标准版和反馈处理专家版",
        "详细的工作流程指导",
        "全面的工具集成",
        "专业的技术文档标准和结构规范",
        "完善的错误处理策略"
      ],
      "limitations": [
        "依赖于用户提供足够的技术背景信息",
        "复杂图表和非文本内容的处理能力有限",
        "需要与其他Agent协作以实现完整的文档处理流程"
      ]
    },
    "conclusion": "document_writer_agent的提示词设计全面涵盖了技术文档编写的核心需求，包括初始文档生成和反馈处理两个主要场景。通过系统化的工作流程、专业的质量标准和灵活的版本策略，该Agent能够生成高质量的技术文档并根据反馈进行有效迭代。提示词设计还充分整合了可用工具，确保Agent能够在各个工作阶段获得必要的支持。"
  }
}