{
  "prompt_engineering": {
    "agent_name": "simple_agent",
    "project_name": "simple_agent",
    "stage": "prompt_engineer",
    "created_date": "2026-01-24T20:08:01+00:00",
    "design_overview": {
      "purpose": "为simple_agent设计专业的提示词模板，确保Agent能够准确理解用户需求，生成高质量HTML文档，并可靠地完成S3上传和URL生成任务",
      "design_approach": "基于content_generator_agent模板进行定制化开发，结合HTML5标准、AWS S3集成、流式响应和错误处理最佳实践",
      "key_features": [
        "清晰的角色定位和职责定义",
        "详细的HTML5文档生成标准和示例",
        "完整的S3集成规范和配置说明",
        "流式响应的实时反馈机制",
        "全面的错误处理指南和友好的错误信息",
        "明确的工具使用指南和约束条件",
        "具体的质量标准和评估指标"
      ]
    },
    "prompt_template_details": {
      "template_file": "prompts/generated_agents_prompts/simple_agent/simple_agent.yaml",
      "template_structure": {
        "agent_metadata": {
          "name": "simple_agent",
          "description": "HTML文档生成与S3上传Agent",
          "category": "document_generation",
          "version": "latest",
          "status": "stable",
          "author": "agent build workflow"
        },
        "environment_configurations": {
          "development": {
            "max_tokens": 4096,
            "temperature": 0.3,
            "streaming": true,
            "purpose": "开发和测试环境，较小的token限制"
          },
          "production": {
            "max_tokens": 60000,
            "temperature": 0.3,
            "streaming": true,
            "purpose": "生产环境，支持大型HTML文档生成"
          },
          "testing": {
            "max_tokens": 2048,
            "temperature": 0.3,
            "streaming": true,
            "purpose": "快速测试环境"
          }
        },
        "system_prompt_sections": [
          "专业身份和能力定义",
          "核心职责说明",
          "详细工作流程（5个步骤）",
          "HTML文档生成标准（结构、样式、语义化标签）",
          "S3集成规范（存储桶、文件命名、上传参数、URL配置）",
          "流式响应规范（5种反馈类型）",
          "错误处理指南（8种错误类型及处理方式）",
          "工具使用指南（10个工具说明）",
          "约束和限制（10条严格约束）",
          "质量标准（7个维度）",
          "沟通风格指导",
          "示例交互"
        ],
        "user_prompt_template": {
          "input_variable": "user_input",
          "processing_steps": [
            "验证输入",
            "生成HTML",
            "上传S3",
            "生成URL",
            "返回结果"
          ],
          "requirements": [
            "流式响应",
            "HTML质量保证",
            "错误处理",
            "友好的错误信息"
          ]
        },
        "metadata": {
          "tags": [
            "html_generation",
            "document_generation",
            "s3_storage",
            "content_creation",
            "aws_integration"
          ],
          "supported_models": [
            "us.anthropic.claude-sonnet-4-5-20250929-v1:0"
          ],
          "tools_dependencies": [
            "strands_tools/current_time",
            "generated_tools/simple_agent/html_s3_tools/validate_input",
            "generated_tools/simple_agent/html_s3_tools/generate_html_document",
            "generated_tools/simple_agent/html_s3_tools/validate_html_content",
            "generated_tools/simple_agent/html_s3_tools/sanitize_html_content",
            "generated_tools/simple_agent/html_s3_tools/upload_to_s3",
            "generated_tools/simple_agent/html_s3_tools/generate_presigned_url",
            "generated_tools/simple_agent/html_s3_tools/check_s3_bucket_access",
            "generated_tools/simple_agent/html_s3_tools/format_error_message",
            "generated_tools/simple_agent/html_s3_tools/generate_html_metadata",
            "generated_tools/simple_agent/html_s3_tools/get_s3_object_info"
          ]
        }
      }
    },
    "design_decisions": [
      {
        "decision": "使用temperature=0.3确保HTML生成的一致性和准确性",
        "rationale": "HTML文档生成需要精确性，较低的temperature值能够减少随机性，确保输出符合HTML5标准"
      },
      {
        "decision": "所有环境都启用streaming=True",
        "rationale": "HTML生成和S3上传需要时间，流式响应能够提供实时反馈，提升用户体验"
      },
      {
        "decision": "production环境设置max_tokens=60000",
        "rationale": "支持生成大型复杂的HTML文档（最大10MB），确保有足够的token空间"
      },
      {
        "decision": "详细的错误处理指南包含8种错误类型",
        "rationale": "覆盖所有可能的失败场景（输入验证、HTML生成、S3上传、AWS凭证、网络等），确保Agent能够友好地处理所有异常"
      },
      {
        "decision": "明确的HTML5文档生成标准和示例代码",
        "rationale": "提供具体的HTML结构模板和CSS样式指导，确保生成的文档符合标准且美观"
      },
      {
        "decision": "S3集成规范包含存储桶、文件命名、上传参数、URL配置",
        "rationale": "提供完整的S3操作指导，确保Agent能够正确使用S3服务"
      },
      {
        "decision": "工具依赖包含11个工具路径",
        "rationale": "覆盖所有必要的功能（验证、生成、上传、URL生成、错误处理等），确保Agent能够完成完整的工作流程"
      },
      {
        "decision": "约束和限制包含10条严格规则",
        "rationale": "明确Agent的操作边界，确保安全性、稳定性和合规性"
      }
    ],
    "prompt_engineering_best_practices": {
      "role_definition": {
        "clarity": "明确定义为'HTML文档生成与S3存储专家'",
        "specificity": "详细列出核心职责和专业能力",
        "consistency": "在整个提示词中保持角色一致性"
      },
      "instruction_structure": {
        "step_by_step": "提供5步清晰的工作流程",
        "detailed_guidance": "每个步骤都有详细的操作指导",
        "error_handling": "每个步骤都包含失败处理说明"
      },
      "output_specification": {
        "format_definition": "明确定义HTML5文档结构和样式要求",
        "quality_standards": "提供7个维度的质量标准",
        "examples": "包含完整的HTML结构示例和交互示例"
      },
      "constraint_management": {
        "explicit_boundaries": "10条明确的约束和限制",
        "security_considerations": "强调AWS凭证管理、URL过期、文件名随机化",
        "performance_limits": "文件大小限制、处理时间要求"
      },
      "tool_integration": {
        "tool_listing": "列出所有可用工具及其用途",
        "usage_guidance": "提供工具使用的上下文和场景",
        "dependency_management": "在metadata中明确所有工具依赖"
      },
      "error_handling_design": {
        "comprehensive_coverage": "覆盖8种常见错误类型",
        "user_friendly_messages": "所有错误信息都包含描述和解决建议",
        "technical_logging": "强调记录详细日志但不暴露敏感信息"
      },
      "streaming_response": {
        "progress_feedback": "5种明确的流式反馈消息",
        "timing_guidance": "说明何时发送每种反馈",
        "completion_notification": "明确的完成信息和过期提示"
      }
    },
    "quality_assurance": {
      "validation_checks": [
        "YAML语法正确性验证 - 通过",
        "必需字段完整性检查 - 通过",
        "环境配置格式验证 - 通过",
        "版本信息格式验证 - 通过",
        "工具依赖路径验证 - 通过",
        "提示词文件可读性验证 - 通过"
      ],
      "alignment_with_design": {
        "agent_designer_alignment": "提示词完全符合agent_designer.json中的Agent设计规格",
        "system_architect_alignment": "提示词实现了system_architect.json中定义的系统架构",
        "requirements_alignment": "提示词满足requirements_analyzer.json中的所有功能需求"
      },
      "best_practices_compliance": [
        "遵循Nexus-AI平台的提示词标准",
        "符合Claude模型的提示词最佳实践",
        "包含完整的角色定义和任务描述",
        "提供清晰的工作流程和输出规范",
        "包含详细的错误处理指导",
        "明确所有约束和限制条件",
        "支持流式响应和实时反馈",
        "工具依赖完整且路径正确"
      ]
    },
    "testing_recommendations": [
      "测试HTML生成功能：验证生成的HTML符合HTML5标准",
      "测试S3上传功能：验证文件能够成功上传至awesome-nexus-ai-file-storage",
      "测试URL生成功能：验证预签名URL能够正常访问",
      "测试流式响应：验证每个步骤的进度反馈是否正常",
      "测试错误处理：验证各种错误场景的错误信息是否友好",
      "测试输入验证：验证无效输入是否被正确拒绝",
      "测试重试机制：验证S3上传失败时的自动重试",
      "测试性能：验证端到端处理时间是否在20秒内",
      "测试不同环境：验证development、production、testing环境的配置",
      "测试工具集成：验证所有工具依赖是否可用且正常工作"
    ],
    "future_enhancements": [
      "支持更多HTML模板和主题",
      "支持HTML文档的在线编辑和预览",
      "支持多种文件格式（PDF、Word等）转换为HTML",
      "支持HTML文档的版本管理和历史记录",
      "支持多用户协作编辑",
      "支持自定义CSS样式库",
      "支持HTML文档的SEO优化",
      "支持更多云存储服务（Azure Blob、Google Cloud Storage等）",
      "支持HTML文档的压缩和优化",
      "支持HTML文档的分析和统计"
    ],
    "documentation": {
      "prompt_template_file": "prompts/generated_agents_prompts/simple_agent/simple_agent.yaml",
      "design_document": "projects/simple_agent/agents/simple_agent/prompt_engineer.json",
      "agent_design_spec": "projects/simple_agent/agents/simple_agent/agent_designer.json",
      "system_architecture": "projects/simple_agent/agents/simple_agent/system_architect.json",
      "requirements_document": "projects/simple_agent/agents/simple_agent/requirements_analyzer.json",
      "tools_documentation": "tools/generated_tools/simple_agent/html_s3_tools.py"
    },
    "summary": "成功为simple_agent创建了专业的提示词模板。模板包含清晰的角色定义、详细的工作流程、完整的HTML5生成标准、全面的S3集成规范、流式响应机制、完善的错误处理指南、明确的工具使用说明和严格的约束条件。模板已通过所有验证检查，符合Nexus-AI平台标准和Claude模型最佳实践，能够确保Agent准确理解用户需求并可靠地完成HTML文档生成和S3上传任务。"
  }
}