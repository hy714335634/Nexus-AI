# 前端构建与部署控制台任务

## 阶段 1 – 基础
- 审查 `web/v2` 技术栈、现有布局、API 包装器以及鉴权/环境处理。
- 整理所需的后端接口（创建构建、项目状态、工件、阶段日志、部署接口）。
- 定义与后端载荷对应的 TypeScript 模型。
- 配置基础路由：`/projects`、`/projects/[id]`、`/agents/new`、`/projects/[id]/deploy`。
- 配置 React Query/SWR 客户端、错误/加载状态处理以及共享的 UI 外壳。

## 阶段 2 – 项目概览与创建
- 实现带有状态徽章、筛选器和快捷操作的项目列表页。
- 构建“新建 Agent”向导（需求输入、选项配置、提交到 API、重定向到项目详情页）。
- 接入成功/失败提示，并实现乐观式导航。

## 阶段 3 – 项目详情与阶段时间线
- 渲染项目元数据卡片（当前阶段、进度百分比、时间戳）。
- 构建阶段时间线（编排器 → 部署器），展示进度、耗时和重试信息。
- 支持阶段切换的轮询/流式更新（错误时退避重试）。

## 阶段 4 – 工件与日志
- 为需求、架构、工具、提示词、Agent 代码、部署记录添加标签页/分区。
- 集成代码/JSON 查看器，支持语法高亮和复制/下载。
- 从 `logs/stages/{agent}.txt` 提供阶段日志，并支持自动刷新与筛选。
- 在 UI 中提供错误上下文（限流、上下文溢出、区域限制等）。

## 阶段 5 – 部署面板
- 提供“部署到 AgentCore”操作，包括确认流程和参数输入（区域、项目 ID 覆盖）。
- 展示 CodeBuild 进度（阶段：QUEUED、BUILD、COMPLETED）以及 Bedrock AgentCore 状态。
- 在部署失败时允许重新运行/重试，并链接到工件/日志用于调试。

## 阶段 6 – 打磨与质量
- 确保响应式布局以及与 `web/v2` 一致的深浅色主题。
- 添加消息提示、面包屑导航和可复用的状态组件。
- 为 API hooks/组件编写单元测试；补充端到端流程测试（创建构建 → 阶段推进 → 部署）。
- 更新 README/开发文档，覆盖环境搭建、环境变量与工作流。
