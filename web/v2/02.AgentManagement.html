<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus-AI Platform - Agentç®¡ç†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }
        
        .app-container {
            display: flex;
            height: 100vh;
        }
        
        /* å·¦ä¾§å¯¼èˆªæ  */
        .sidebar {
            width: 280px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 2px 0 20px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            position: relative;
        }
        
        .sidebar-header {
            padding: 1.5rem;
            border-bottom: 1px solid #e0e0e0;
            background: rgba(102, 126, 234, 0.1);
        }
        
        .logo {
            font-size: 1.3rem;
            font-weight: 700;
            color: #667eea;
            text-align: center;
        }
        
        .nav-modules {
            flex: 1;
            padding: 1rem 0;
        }
        
        .nav-section {
            margin-bottom: 1.5rem;
        }
        
        .nav-section-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: #999;
            padding: 0 1.5rem;
            margin-bottom: 0.5rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .nav-item {
            display: flex;
            align-items: center;
            padding: 0.8rem 1.5rem;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 4px solid transparent;
            position: relative;
        }
        
        .nav-item:hover {
            background: rgba(102, 126, 234, 0.1);
            border-left-color: #667eea;
        }
        
        .nav-item.active {
            background: rgba(102, 126, 234, 0.15);
            border-left-color: #667eea;
            color: #667eea;
        }
        
        .nav-item.active::before {
            content: '';
            position: absolute;
            right: 1rem;
            width: 8px;
            height: 8px;
            background: #667eea;
            border-radius: 50%;
        }
        
        .nav-icon {
            margin-right: 0.8rem;
            font-size: 1.2rem;
            width: 20px;
            text-align: center;
        }
        
        .nav-text {
            font-weight: 500;
            flex: 1;
        }
        
        .nav-badge {
            background: #ff4444;
            color: white;
            font-size: 0.7rem;
            padding: 0.2rem 0.5rem;
            border-radius: 10px;
            font-weight: 600;
            margin-left: 0.5rem;
        }
        
        .nav-status {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            margin-left: 0.5rem;
        }
        
        .status-online { background: #4caf50; }
        .status-building { background: #ff9800; }
        .status-offline { background: #e0e0e0; }
        
        /* ä¸»å†…å®¹åŒºåŸŸ */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: rgba(255, 255, 255, 0.05);
        }
        
        .header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
        }
        
        .page-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #667eea;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        
        .content-area {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }
        
        /* Agentç®¡ç†æ ·å¼ */
        .management-header {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .header-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: #667eea;
        }
        
        .header-actions {
            display: flex;
            gap: 1rem;
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9rem;
            font-weight: 600;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }
        
        .btn-secondary {
            background: #f5f5f5;
            color: #333;
            border: 1px solid #ddd;
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
        }
        
        .stat-card {
            background: rgba(102, 126, 234, 0.1);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 0.5rem;
        }
        
        .stat-label {
            color: #666;
            font-size: 0.9rem;
        }
        
        .search-filter-section {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }
        
        .search-bar {
            width: 100%;
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 1rem;
            margin-bottom: 1rem;
            transition: border-color 0.3s;
        }
        
        .search-bar:focus {
            outline: none;
            border-color: #667eea;
        }
        
        .filter-tabs {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .filter-tab {
            padding: 0.6rem 1.2rem;
            border: 2px solid #e0e0e0;
            background: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }
        
        .filter-tab.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }
        
        .agents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .agent-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
            border-left: 4px solid #667eea;
        }
        
        .agent-card:hover {
            transform: translateY(-5px);
        }
        
        .agent-card.selected {
            border-left-color: #4caf50;
            background: rgba(76, 1175, 80, 0.6);
        }
        
        .agent-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .agent-checkbox {
            width: 20px;
            height: 20px;
            margin-right: 1rem;
            cursor: pointer;
        }
        
        .agent-info {
            flex: 1;
        }
        
        .agent-name {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 0.5rem;
        }
        
        .agent-category {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 0.5rem;
        }
        
        .agent-description {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.4;
            margin-bottom: 1rem;
        }
        
        .agent-meta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .meta-item {
            display: flex;
            justify-content: space-between;
            font-size: 0.8rem;
        }
        
        .meta-label {
            color: #999;
        }
        
        .meta-value {
            color: #333;
            font-weight: 600;
        }
        
        .agent-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }
        
        .status-running { background: #4caf50; }
        .status-building { background: #ff9800; }
        .status-offline { background: #e0e0e0; }
        
        .agent-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .btn-small {
            padding: 0.4rem 0.8rem;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s;
        }
        
        .btn-small:hover {
            transform: translateY(-1px);
        }
        
        .magician-section {
            background: linear-gradient(45deg, #4caf50, #8bc34a);
            color: white;
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(76, 175, 80, 0.3);
        }
        
        .magician-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .magician-title {
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .magician-description {
            opacity: 0.9;
            margin-bottom: 1.5rem;
        }
        
        .magician-input {
            width: 100%;
            min-height: 80px;
            padding: 1rem;
            border: none;
            border-radius: 15px;
            font-size: 1rem;
            resize: vertical;
            background: rgba(255, 255, 255, 0.9);
            color: #333;
        }
        
        .magician-input:focus {
            outline: none;
            background: white;
        }
        
        .magician-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
        }
        
        .btn-white {
            background: white;
            color: #4caf50;
            font-weight: 600;
        }
        
        .btn-white:hover {
            background: rgba(255, 255, 255, 0.9);
        }
        
        .selection-summary {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 1.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            display: none;
        }
        
        .selection-summary.show {
            display: block;
        }
        
        .summary-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .summary-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #667eea;
        }
        
        .selected-agents {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        
        .selected-agent-tag {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 0.3rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .remove-agent {
            cursor: pointer;
            font-weight: bold;
        }
        
        .summary-actions {
            display: flex;
            gap: 1rem;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            .sidebar {
                width: 60px;
            }
            
            .nav-text, .nav-badge {
                display: none;
            }
            
            .nav-icon {
                margin-right: 0;
            }
            
            .sidebar-header {
                padding: 1rem;
            }
            
            .logo {
                font-size: 1.5rem;
            }
            
            .agents-grid {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- å·¦ä¾§å¯¼èˆªæ  -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">ğŸ¤– Nexus-AI</div>
            </div>
            
            <div class="nav-modules">
                <!-- æ ¸å¿ƒæ¨¡å— -->
                <div class="nav-section">
                    <div class="nav-section-title">æ ¸å¿ƒæ¨¡å—</div>
                    
                    <div class="nav-item" onclick="navigateTo('homepage')">
                        <span class="nav-icon">ğŸ </span>
                        <span class="nav-text">é¦–é¡µæ¦‚è§ˆ</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('build')">
                        <span class="nav-icon">ğŸ”¨</span>
                        <span class="nav-text">æ„å»ºæ¨¡å—</span>
                        <span class="nav-badge">3</span>
                        <span class="nav-status status-building"></span>
                    </div>
                    
                    <div class="nav-item active" onclick="navigateTo('management')">
                        <span class="nav-icon">âš™ï¸</span>
                        <span class="nav-text">ç®¡ç†æ¨¡å—</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('iteration')">
                        <span class="nav-icon">ğŸ”„</span>
                        <span class="nav-text">è¿­ä»£æ¨¡å—</span>
                        <span class="nav-badge">1</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('troubleshoot')">
                        <span class="nav-icon">ğŸ›</span>
                        <span class="nav-text">é—®é¢˜æ’æŸ¥</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('operations')">
                        <span class="nav-icon">ğŸ”§</span>
                        <span class="nav-text">è¿ç»´ç®¡ç†</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('monitoring')">
                        <span class="nav-icon">ğŸ“Š</span>
                        <span class="nav-text">ç›‘æ§ä¸­å¿ƒ</span>
                        <span class="nav-badge">2</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('tools')">
                        <span class="nav-icon">ğŸ› ï¸</span>
                        <span class="nav-text">å·¥å…·&MCP</span>
                        <span class="nav-status status-online"></span>
                    </div>
                </div>
                
                <!-- ç³»ç»ŸåŠŸèƒ½ -->
                <div class="nav-section">
                    <div class="nav-section-title">ç³»ç»ŸåŠŸèƒ½</div>
                    
                    <div class="nav-item" onclick="navigateTo('agent-library')">
                        <span class="nav-icon">ğŸ¤–</span>
                        <span class="nav-text">Agentåº“</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('multi-agent')">
                        <span class="nav-icon">ğŸ”—</span>
                        <span class="nav-text">å¤šAgentç¼–æ’</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('evolution')">
                        <span class="nav-icon">ğŸ”„</span>
                        <span class="nav-text">è‡ªä¸¾å¼è¿›åŒ–</span>
                        <span class="nav-badge">Beta</span>
                        <span class="nav-status status-building"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('analytics')">
                        <span class="nav-icon">ğŸ“ˆ</span>
                        <span class="nav-text">ç³»ç»Ÿåˆ†æ</span>
                        <span class="nav-status status-online"></span>
                    </div>
                </div>
                
                <!-- ç”¨æˆ·ç®¡ç† -->
                <div class="nav-section">
                    <div class="nav-section-title">ç”¨æˆ·ç®¡ç†</div>
                    
                    <div class="nav-item" onclick="navigateTo('profile')">
                        <span class="nav-icon">ğŸ‘¤</span>
                        <span class="nav-text">ä¸ªäººä¸­å¿ƒ</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('team')">
                        <span class="nav-icon">ğŸ‘¥</span>
                        <span class="nav-text">å›¢é˜Ÿç®¡ç†</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('help')">
                        <span class="nav-icon">ğŸ“š</span>
                        <span class="nav-text">å¸®åŠ©æ–‡æ¡£</span>
                        <span class="nav-status status-online"></span>
                    </div>
                    
                    <div class="nav-item" onclick="navigateTo('settings')">
                        <span class="nav-icon">âš™ï¸</span>
                        <span class="nav-text">ç³»ç»Ÿè®¾ç½®</span>
                        <span class="nav-status status-online"></span>
                    </div>
                </div>
            </div>
        </nav>
        
        <!-- ä¸»å†…å®¹åŒºåŸŸ -->
        <main class="main-content">
            <div class="header">
                <div class="page-title">Agentç®¡ç†ä¸­å¿ƒ</div>
                <div class="user-info">
                    <span>å¼ å¼º[ä¼ä¸šä¸šåŠ¡éƒ¨é—¨]</span>
                    <img src="https://via.placeholder.com/40" alt="ç”¨æˆ·å¤´åƒ" style="border-radius: 50%; width: 40px; height: 40px;">
                </div>
            </div>
            
            <div class="content-area">
                <!-- ç®¡ç†æ¦‚è§ˆ -->
                <div class="management-header">
                    <div class="header-content">
                        <div class="header-title">ğŸ¤– Agentç®¡ç†ä¸­å¿ƒ</div>
                        <div class="header-actions">
                            <button class="btn btn-secondary" onclick="openAgentDetail()">ğŸ“‹ æŸ¥çœ‹è¯¦æƒ…</button>
                            <button class="btn btn-secondary" onclick="openGraphView()">ğŸ“Š å…³ç³»å›¾è°±</button>
                            <button class="btn btn-primary" onclick="createNewAgent()">â• æ–°å»ºAgent</button>
                        </div>
                    </div>
                    
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-number">127</div>
                            <div class="stat-label">æ€»Agentæ•°é‡</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">89</div>
                            <div class="stat-label">è¿è¡Œä¸­</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">23</div>
                            <div class="stat-label">æ„å»ºä¸­</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">15</div>
                            <div class="stat-label">ç¦»çº¿</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">2,847</div>
                            <div class="stat-label">ä»Šæ—¥è°ƒç”¨æ¬¡æ•°</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number">96.8%</div>
                            <div class="stat-label">å¹³å‡æˆåŠŸç‡</div>
                        </div>
                    </div>
                </div>

                <!-- Magician Agent å¯¹è¯åŒºåŸŸ -->
                <div class="magician-section">
                    <div class="magician-header">
                        <span style="font-size: 2rem;">ğŸ§™â€â™‚ï¸</span>
                        <div>
                            <div class="magician-title">Magician Agent</div>
                            <div class="magician-description">æ™ºèƒ½Agentç¼–æ’åŠ©æ‰‹ - æ ¹æ®æ‚¨çš„éœ€æ±‚è‡ªåŠ¨é€‰æ‹©å’Œåè°ƒç›¸å…³Agent</div>
                        </div>
                    </div>
                    
                    <textarea class="magician-input" placeholder="ğŸ’­ æè¿°æ‚¨éœ€è¦è§£å†³çš„é—®é¢˜...

ä¾‹å¦‚ï¼šæˆ‘éœ€è¦åˆ†æå®¢æˆ·æŠ•è¯‰æ•°æ®ï¼Œç”Ÿæˆæœˆåº¦æŠ¥å‘Šï¼Œå¹¶è‡ªåŠ¨å‘é€ç»™ç›¸å…³éƒ¨é—¨è´Ÿè´£äºº"></textarea>
                    
                    <div class="magician-actions">
                        <button class="btn btn-white" onclick="startMagicianDialog()">ğŸš€ å¼€å§‹æ™ºèƒ½ç¼–æ’</button>
                        <button class="btn btn-white" onclick="viewMagicianHistory()">ğŸ“š æŸ¥çœ‹å†å²å¯¹è¯</button>
                    </div>
                </div>

                <!-- æœç´¢å’Œè¿‡æ»¤ -->
                <div class="search-filter-section">
                    <input type="text" class="search-bar" placeholder="ğŸ” æœç´¢Agentåç§°ã€æè¿°ã€ä½œè€…æˆ–æ ‡ç­¾..." id="searchInput">
                    
                    <div class="filter-tabs">
                        <div class="filter-tab active" data-filter="all">å…¨éƒ¨Agent</div>
                        <div class="filter-tab" data-filter="running">è¿è¡Œä¸­</div>
                        <div class="filter-tab" data-filter="building">æ„å»ºä¸­</div>
                        <div class="filter-tab" data-filter="offline">ç¦»çº¿</div>
                        <div class="filter-tab" data-filter="analysis">æ•°æ®åˆ†æ</div>
                        <div class="filter-tab" data-filter="customer">å®¢æˆ·æœåŠ¡</div>
                        <div class="filter-tab" data-filter="automation">è‡ªåŠ¨åŒ–</div>
                        <div class="filter-tab" data-filter="integration">é›†æˆå·¥å…·</div>
                    </div>
                </div>

                <!-- é€‰æ‹©æ‘˜è¦ -->
                <div class="selection-summary" id="selectionSummary">
                    <div class="summary-header">
                        <div class="summary-title">å·²é€‰æ‹© <span id="selectedCount">0</span> ä¸ªAgent</div>
                        <button class="btn btn-primary" onclick="startSelectedDialog()">ğŸš€ å¼€å§‹å¯¹è¯</button>
                    </div>
                    <div class="selected-agents" id="selectedAgents"></div>
                    <div class="summary-actions">
                        <button class="btn btn-secondary" onclick="clearSelection()">æ¸…ç©ºé€‰æ‹©</button>
                        <button class="btn btn-secondary" onclick="openGraphView()">æŸ¥çœ‹å…³ç³»å›¾</button>
                    </div>
                </div>

                <!-- Agentåˆ—è¡¨ -->
                <div class="agents-grid" id="agentsGrid">
                    <!-- Agentå¡ç‰‡å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                </div>
            </div>
        </main>
    </div>

    <script>
        // Agentæ•°æ®
        const agentsData = [
            {
                id: 'customer_complaint_agent',
                name: 'å®¢æˆ·æŠ•è¯‰å¤„ç†Agent',
                category: 'å®¢æˆ·æœåŠ¡',
                version: 'v2.1.0',
                author: 'å¼ å¼º',
                description: 'æ™ºèƒ½å¤„ç†å®¢æˆ·æŠ•è¯‰ï¼Œè‡ªåŠ¨åˆ†ç±»å’Œè·¯ç”±ï¼Œç”Ÿæˆå¤„ç†æŠ¥å‘Š',
                status: 'running',
                calls: 1247,
                successRate: 96.8,
                lastUpdate: '2025-07-27',
                tags: ['å®¢æˆ·æœåŠ¡', 'è‡ªåŠ¨åŒ–', 'æŠ¥å‘Šç”Ÿæˆ']
            },
            {
                id: 'data_analysis_agent',
                name: 'æ•°æ®åˆ†æAgent',
                category: 'æ•°æ®åˆ†æ',
                version: 'v1.8.3',
                author: 'æå·¥ç¨‹å¸ˆ',
                description: 'æ”¯æŒå¤šç§æ•°æ®æ ¼å¼åˆ†æï¼Œè‡ªåŠ¨ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨å’Œæ´å¯ŸæŠ¥å‘Š',
                status: 'running',
                calls: 892,
                successRate: 98.2,
                lastUpdate: '2025-07-26',
                tags: ['æ•°æ®åˆ†æ', 'å¯è§†åŒ–', 'æŠ¥å‘Šç”Ÿæˆ']
            },
            {
                id: 'sales_lead_agent',
                name: 'é”€å”®çº¿ç´¢åˆ†æAgent',
                category: 'é”€å”®ç®¡ç†',
                version: 'v1.5.2',
                author: 'ç‹åˆ†æå¸ˆ',
                description: 'åˆ†æé”€å”®çº¿ç´¢è´¨é‡ï¼Œé¢„æµ‹è½¬åŒ–æ¦‚ç‡ï¼Œä¼˜åŒ–é”€å”®ç­–ç•¥',
                status: 'building',
                calls: 0,
                successRate: 0,
                lastUpdate: '2025-07-27',
                tags: ['é”€å”®ç®¡ç†', 'é¢„æµ‹åˆ†æ', 'ä¼˜åŒ–']
            },
            {
                id: 'report_generator_agent',
                name: 'æŠ¥è¡¨ç”ŸæˆAgent',
                category: 'è‡ªåŠ¨åŒ–',
                version: 'v3.0.1',
                author: 'é™ˆå¼€å‘',
                description: 'è‡ªåŠ¨ç”Ÿæˆå„ç±»ä¸šåŠ¡æŠ¥è¡¨ï¼Œæ”¯æŒå®šæ—¶ä»»åŠ¡å’Œé‚®ä»¶å‘é€',
                status: 'running',
                calls: 2156,
                successRate: 99.1,
                lastUpdate: '2025-07-25',
                tags: ['è‡ªåŠ¨åŒ–', 'æŠ¥è¡¨ç”Ÿæˆ', 'å®šæ—¶ä»»åŠ¡']
            },
            {
                id: 'email_notification_agent',
                name: 'é‚®ä»¶é€šçŸ¥Agent',
                category: 'é›†æˆå·¥å…·',
                version: 'v2.3.0',
                author: 'åˆ˜è¿ç»´',
                description: 'æ™ºèƒ½é‚®ä»¶å‘é€ï¼Œæ”¯æŒæ¨¡æ¿å’Œæ‰¹é‡å¤„ç†ï¼Œé›†æˆååƒåœ¾é‚®ä»¶',
                status: 'running',
                calls: 3421,
                successRate: 97.5,
                lastUpdate: '2025-07-24',
                tags: ['é›†æˆå·¥å…·', 'é‚®ä»¶æœåŠ¡', 'é€šçŸ¥']
            },
            {
                id: 'document_processor_agent',
                name: 'æ–‡æ¡£å¤„ç†Agent',
                category: 'è‡ªåŠ¨åŒ–',
                version: 'v1.9.4',
                author: 'èµµåŠ©ç†',
                description: 'å¤„ç†PDFã€Wordã€Excelç­‰æ–‡æ¡£ï¼Œæå–å…³é”®ä¿¡æ¯å¹¶ç»“æ„åŒ–å­˜å‚¨',
                status: 'offline',
                calls: 0,
                successRate: 0,
                lastUpdate: '2025-07-20',
                tags: ['è‡ªåŠ¨åŒ–', 'æ–‡æ¡£å¤„ç†', 'ä¿¡æ¯æå–']
            },
            {
                id: 'inventory_manager_agent',
                name: 'åº“å­˜ç®¡ç†Agent',
                category: 'ä¾›åº”é“¾',
                version: 'v2.0.0',
                author: 'å­™ç»ç†',
                description: 'æ™ºèƒ½åº“å­˜ç›‘æ§ï¼Œé¢„æµ‹ç¼ºè´§é£é™©ï¼Œè‡ªåŠ¨è¡¥è´§å»ºè®®',
                status: 'running',
                calls: 567,
                successRate: 94.3,
                lastUpdate: '2025-07-26',
                tags: ['ä¾›åº”é“¾', 'åº“å­˜ç®¡ç†', 'é¢„æµ‹åˆ†æ']
            },
            {
                id: 'quality_control_agent',
                name: 'è´¨é‡æ§åˆ¶Agent',
                category: 'è´¨é‡ç®¡ç†',
                version: 'v1.7.2',
                author: 'å‘¨è´¨æ£€',
                description: 'äº§å“è´¨é‡æ£€æµ‹ï¼Œå¼‚å¸¸è¯†åˆ«ï¼Œè´¨é‡æŠ¥å‘Šç”Ÿæˆ',
                status: 'running',
                calls: 789,
                successRate: 95.7,
                lastUpdate: '2025-07-25',
                tags: ['è´¨é‡ç®¡ç†', 'å¼‚å¸¸æ£€æµ‹', 'è´¨é‡æ§åˆ¶']
            }
        ];

        let selectedAgents = new Set();
        let currentFilter = 'all';
        let currentSearch = '';

        // åˆå§‹åŒ–é¡µé¢
        document.addEventListener('DOMContentLoaded', function() {
            renderAgents();
            setupEventListeners();
        });

        // è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
        function setupEventListeners() {
            // æœç´¢åŠŸèƒ½
            document.getElementById('searchInput').addEventListener('input', function(e) {
                currentSearch = e.target.value.toLowerCase();
                renderAgents();
            });

            // è¿‡æ»¤æ ‡ç­¾
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.addEventListener('click', function() {
                    document.querySelectorAll('.filter-tab').forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    currentFilter = this.dataset.filter;
                    renderAgents();
                });
            });
        }

        // æ¸²æŸ“Agentåˆ—è¡¨
        function renderAgents() {
            const grid = document.getElementById('agentsGrid');
            const filteredAgents = agentsData.filter(agent => {
                const matchesSearch = !currentSearch || 
                    agent.name.toLowerCase().includes(currentSearch) ||
                    agent.description.toLowerCase().includes(currentSearch) ||
                    agent.author.toLowerCase().includes(currentSearch) ||
                    agent.tags.some(tag => tag.toLowerCase().includes(currentSearch));
                
                const matchesFilter = currentFilter === 'all' || 
                    agent.status === currentFilter ||
                    agent.category.toLowerCase().includes(currentFilter);
                
                return matchesSearch && matchesFilter;
            });

            grid.innerHTML = filteredAgents.map(agent => `
                <div class="agent-card ${selectedAgents.has(agent.id) ? 'selected' : ''}" data-agent-id="${agent.id}">
                    <div class="agent-header">
                        <input type="checkbox" class="agent-checkbox" ${selectedAgents.has(agent.id) ? 'checked' : ''} 
                               onchange="toggleAgentSelection('${agent.id}')">
                        <div class="agent-info">
                            <div class="agent-name">${agent.name}</div>
                            <div class="agent-category">${agent.category}</div>
                        </div>
                    </div>
                    
                    <div class="agent-description">${agent.description}</div>
                    
                    <div class="agent-meta">
                        <div class="meta-item">
                            <span class="meta-label">ç‰ˆæœ¬:</span>
                            <span class="meta-value">${agent.version}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">ä½œè€…:</span>
                            <span class="meta-value">${agent.author}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">è°ƒç”¨æ¬¡æ•°:</span>
                            <span class="meta-value">${agent.calls.toLocaleString()}</span>
                        </div>
                        <div class="meta-item">
                            <span class="meta-label">æˆåŠŸç‡:</span>
                            <span class="meta-value">${agent.successRate}%</span>
                        </div>
                    </div>
                    
                    <div class="agent-status">
                        <div class="status-dot status-${agent.status}"></div>
                        <span>${getStatusText(agent.status)}</span>
                        <span style="margin-left: auto; font-size: 0.8rem; color: #999;">${agent.lastUpdate}</span>
                    </div>
                    
                    <div class="agent-actions">
                        <button class="btn-small btn-primary" onclick="viewAgentDetail('${agent.id}')">æŸ¥çœ‹è¯¦æƒ…</button>
                        <button class="btn-small btn-secondary" onclick="testAgent('${agent.id}')">æµ‹è¯•</button>
                        <button class="btn-small btn-secondary" onclick="viewAgentLogs('${agent.id}')">æ—¥å¿—</button>
                    </div>
                </div>
            `).join('');
        }

        // è·å–çŠ¶æ€æ–‡æœ¬
        function getStatusText(status) {
            const statusMap = {
                'running': 'è¿è¡Œä¸­',
                'building': 'æ„å»ºä¸­',
                'offline': 'ç¦»çº¿'
            };
            return statusMap[status] || status;
        }

        // åˆ‡æ¢Agenté€‰æ‹©
        function toggleAgentSelection(agentId) {
            if (selectedAgents.has(agentId)) {
                selectedAgents.delete(agentId);
            } else {
                selectedAgents.add(agentId);
            }
            
            updateSelectionSummary();
            renderAgents();
        }

        // æ›´æ–°é€‰æ‹©æ‘˜è¦
        function updateSelectionSummary() {
            const summary = document.getElementById('selectionSummary');
            const count = document.getElementById('selectedCount');
            const agents = document.getElementById('selectedAgents');
            
            count.textContent = selectedAgents.size;
            
            if (selectedAgents.size > 0) {
                summary.classList.add('show');
                agents.innerHTML = Array.from(selectedAgents).map(agentId => {
                    const agent = agentsData.find(a => a.id === agentId);
                    return `
                        <div class="selected-agent-tag">
                            ${agent.name}
                            <span class="remove-agent" onclick="toggleAgentSelection('${agentId}')">Ã—</span>
                        </div>
                    `;
                }).join('');
            } else {
                summary.classList.remove('show');
            }
        }

        // æ¸…ç©ºé€‰æ‹©
        function clearSelection() {
            selectedAgents.clear();
            updateSelectionSummary();
            renderAgents();
        }

        // å¼€å§‹Magicianå¯¹è¯
        function startMagicianDialog() {
            const input = document.querySelector('.magician-input');
            const question = input.value.trim();
            
            if (!question) {
                alert('è¯·è¾“å…¥æ‚¨çš„é—®é¢˜');
                return;
            }
            
            // è¿™é‡Œå¯ä»¥æ‰“å¼€æ–°çš„å¯¹è¯çª—å£
            window.open(`agent-dialog.html?question=${encodeURIComponent(question)}`, '_blank', 'width=800,height=600');
        }

        // å¼€å§‹é€‰ä¸­Agentçš„å¯¹è¯
        function startSelectedDialog() {
            if (selectedAgents.size === 0) {
                alert('è¯·å…ˆé€‰æ‹©è¦å¯¹è¯çš„Agent');
                return;
            }
            
            const agentIds = Array.from(selectedAgents);
            window.open(`agent-graph-dialog.html?agents=${agentIds.join(',')}`, '_blank', 'width=1000,height=700');
        }

        // æ‰“å¼€å…³ç³»å›¾è§†å›¾
        function openGraphView() {
            if (selectedAgents.size === 0) {
                alert('è¯·å…ˆé€‰æ‹©è¦æŸ¥çœ‹çš„Agent');
                return;
            }
            
            const agentIds = Array.from(selectedAgents);
            window.open(`agent-graph-view.html?agents=${agentIds.join(',')}`, '_blank', 'width=1200,height=800');
        }

        // å…¶ä»–åŠŸèƒ½å‡½æ•°
        function viewAgentDetail(agentId) {
            // ä¿å­˜å½“å‰Agentä¿¡æ¯åˆ°localStorage
            const agentInfo = {
                id: agentId,
                name: `Agent-${agentId}`,
                type: 'æ™ºèƒ½åŠ©æ‰‹',
                version: '1.0.0',
                status: 'è¿è¡Œä¸­',
                lastActive: new Date().toISOString()
            };
            localStorage.setItem('currentAgent', JSON.stringify(agentInfo));
            
            window.open(`agent-detail.html?id=${agentId}`, '_blank', 'width=800,height=600');
        }

        function testAgent(agentId) {
            alert(`æµ‹è¯•Agent: ${agentId}`);
        }

        function viewAgentLogs(agentId) {
            alert(`æŸ¥çœ‹Agentæ—¥å¿—: ${agentId}`);
        }

        function createNewAgent() {
            alert('åˆ›å»ºæ–°AgentåŠŸèƒ½');
        }

        function openAgentDetail() {
            alert('æŸ¥çœ‹Agentè¯¦æƒ…åŠŸèƒ½');
        }

        function viewMagicianHistory() {
            alert('æŸ¥çœ‹Magicianå†å²å¯¹è¯');
        }

        // ç»Ÿä¸€å¯¼èˆªåŠŸèƒ½
        function navigateTo(page) {
            const pageMap = {
                'homepage': '00.homepage_overview.html',
                'build': '01.AgentBuildModule.html',
                'management': '02.AgentManagement.html',
                'iteration': '04.PFR.html',
                'troubleshoot': 'troubleshoot.html',
                'operations': '06.AgentOps.html',
                'monitoring': '06.AgentOps.html',
                'tools': '03.Tools&MCP.html',
                'agent-library': 'agent-library.html',
                'multi-agent': 'agent-graph-view.html',
                'evolution': 'evolution.html',
                'analytics': 'analytics.html',
                'profile': 'profile.html',
                'team': 'team.html',
                'help': 'help.html',
                'settings': 'settings.html'
            };
            
            if (pageMap[page]) {
                // ä¿å­˜å½“å‰é¡µé¢çŠ¶æ€
                savePageState();
                window.location.href = pageMap[page];
            } else {
                showNotification('é¡µé¢å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾…ï¼', 'info');
            }
        }

        // ä¿å­˜é¡µé¢çŠ¶æ€
        function savePageState() {
            const state = {
                selectedAgents: Array.from(selectedAgents),
                currentFilter: currentFilter,
                currentSearch: currentSearch,
                timestamp: new Date().toISOString()
            };
            localStorage.setItem('agentManagementState', JSON.stringify(state));
        }

        // åŠ è½½é¡µé¢çŠ¶æ€
        function loadPageState() {
            const savedState = localStorage.getItem('agentManagementState');
            if (savedState) {
                const state = JSON.parse(savedState);
                selectedAgents = new Set(state.selectedAgents || []);
                currentFilter = state.currentFilter || 'all';
                currentSearch = state.currentSearch || '';
                
                // æ¢å¤æœç´¢æ¡†
                const searchInput = document.getElementById('searchInput');
                if (searchInput) {
                    searchInput.value = currentSearch;
                }
                
                // æ¢å¤è¿‡æ»¤å™¨
                const filterTabs = document.querySelectorAll('.filter-tab');
                filterTabs.forEach(tab => {
                    tab.classList.remove('active');
                    if (tab.dataset.filter === currentFilter) {
                        tab.classList.add('active');
                    }
                });
                
                updateSelectionSummary();
            }
        }

        // æ˜¾ç¤ºé€šçŸ¥
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 0.5rem;">
                    <span>${type === 'success' ? 'âœ…' : type === 'error' ? 'âŒ' : 'â„¹ï¸'}</span>
                    <span>${message}</span>
                </div>
            `;
            
            // æ·»åŠ é€šçŸ¥æ ·å¼
            if (!document.querySelector('.notification')) {
                const style = document.createElement('style');
                style.textContent = `
                    .notification {
                        position: fixed;
                        top: 20px;
                        right: 20px;
                        background: white;
                        border-radius: 10px;
                        padding: 1rem 1.5rem;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                        z-index: 3000;
                        animation: slideIn 0.3s ease-out;
                        max-width: 300px;
                    }
                    .notification.success { border-left: 4px solid #4caf50; }
                    .notification.error { border-left: 4px solid #f44336; }
                    .notification.info { border-left: 4px solid #2196f3; }
                    @keyframes slideIn {
                        from { transform: translateX(100%); opacity: 0; }
                        to { transform: translateX(0); opacity: 1; }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.3s ease-in';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 300);
            }, 3000);
        }

        // é¡µé¢åŠ è½½æ—¶æ¢å¤çŠ¶æ€
        document.addEventListener('DOMContentLoaded', function() {
            loadPageState();
            renderAgents();
            setupEventListeners();
        });

        // é¡µé¢å¸è½½æ—¶ä¿å­˜çŠ¶æ€
        window.addEventListener('beforeunload', savePageState);
    </script>
</body>
</html>